define("domready",[],function(){function t(t){var e;for(e=0;e<t.length;e+=1)t[e](c)}function e(){var e=u;l&&e.length&&(u=[],t(e))}function n(){l||(l=!0,r&&clearInterval(r),e())}function i(t){return l?t(c):u.push(t),i}var s,o,r,a="undefined"!=typeof window&&window.document,l=!a,c=a?document:null,u=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),o=document.createElement("div");try{s=null===window.frameElement}catch(h){}o.doScroll&&s&&window.external&&(r=setInterval(function(){try{o.doScroll(),n()}catch(t){}},30))}"complete"===document.readyState&&n()}return i.version="2.0.1",i.load=function(t,e,n,s){s.isBuild?n(null):i(n)},i}),function(t,e){function n(t){var e=t.length,n=oe.type(t);return oe.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=fe[t]={};return oe.each(t.match(ae)||[],function(t,n){e[n]=!0}),e}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=oe.expando+Math.random()}function o(t,n,i){var s;if(i===e&&1===t.nodeType)if(s="data-"+n.replace(ye,"-$1").toLowerCase(),i=t.getAttribute(s),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ve.test(i)?JSON.parse(i):i}catch(o){}me.set(t,n,i)}else i=e;return i}function r(){return!0}function a(){return!1}function l(){try{return U.activeElement}catch(t){}}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t,e,n){if(oe.isFunction(e))return oe.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return oe.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Ee.test(e))return oe.filter(e,t,n);e=oe.filter(e,t)}return oe.grep(t,function(t){return ee.call(e,t)>=0!==n})}function h(t,e){return oe.nodeName(t,"table")&&oe.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function f(t,e){for(var n=t.length,i=0;n>i;i++)ge.set(t[i],"globalEval",!e||ge.get(e[i],"globalEval"))}function m(t,e){var n,i,s,o,r,a,l,c;if(1===e.nodeType){if(ge.hasData(t)&&(o=ge.access(t),r=oe.extend({},o),c=o.events,ge.set(e,r),c)){delete r.handle,r.events={};for(s in c)for(n=0,i=c[s].length;i>n;n++)oe.event.add(e,s,c[s][n])}me.hasData(t)&&(a=me.access(t),l=oe.extend({},a),me.set(e,l))}}function g(t,n){var i=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return n===e||n&&oe.nodeName(t,n)?oe.merge([t],i):i}function v(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Me.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,s=Ge.length;s--;)if(e=Ge[s]+n,e in t)return e;return i}function b(t,e){return t=e||t,"none"===oe.css(t,"display")||!oe.contains(t.ownerDocument,t)}function w(e){return t.getComputedStyle(e,null)}function x(t,e){for(var n,i,s,o=[],r=0,a=t.length;a>r;r++)i=t[r],i.style&&(o[r]=ge.get(i,"olddisplay"),n=i.style.display,e?(o[r]||"none"!==n||(i.style.display=""),""===i.style.display&&b(i)&&(o[r]=ge.access(i,"olddisplay",T(i.nodeName)))):o[r]||(s=b(i),(n&&"none"!==n||!s)&&ge.set(i,"olddisplay",s?n:oe.css(i,"display"))));for(r=0;a>r;r++)i=t[r],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[r]||"":"none"));return t}function _(t,e,n){var i=Ue.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function C(t,e,n,i,s){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,r=0;4>o;o+=2)"margin"===n&&(r+=oe.css(t,n+Je[o],!0,s)),i?("content"===n&&(r-=oe.css(t,"padding"+Je[o],!0,s)),"margin"!==n&&(r-=oe.css(t,"border"+Je[o]+"Width",!0,s))):(r+=oe.css(t,"padding"+Je[o],!0,s),"padding"!==n&&(r+=oe.css(t,"border"+Je[o]+"Width",!0,s)));return r}function k(t,e,n){var i=!0,s="width"===e?t.offsetWidth:t.offsetHeight,o=w(t),r=oe.support.boxSizing&&"border-box"===oe.css(t,"boxSizing",!1,o);if(0>=s||null==s){if(s=qe(t,e,o),(0>s||null==s)&&(s=t.style[e]),Ve.test(s))return s;i=r&&(oe.support.boxSizingReliable||s===t.style[e]),s=parseFloat(s)||0}return s+C(t,e,n||(r?"border":"content"),i,o)+"px"}function T(t){var e=U,n=Qe[t];return n||(n=S(t,e),"none"!==n&&n||(ze=(ze||oe("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ze[0].contentWindow||ze[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=S(t,e),ze.detach()),Qe[t]=n),n}function S(t,e){var n=oe(e.createElement(t)).appendTo(e.body),i=oe.css(n[0],"display");return n.remove(),i}function $(t,e,n,i){var s;if(oe.isArray(e))oe.each(e,function(e,s){n||tn.test(t)?i(t,s):$(t+"["+("object"==typeof s?e:"")+"]",s,n,i)});else if(n||"object"!==oe.type(e))i(t,e);else for(s in e)$(t+"["+s+"]",e[s],n,i)}function E(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,s=0,o=e.toLowerCase().match(ae)||[];if(oe.isFunction(n))for(;i=o[s++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function N(t,e,n,i){function s(a){var l;return o[a]=!0,oe.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),l}var o={},r=t===yn;return s(e.dataTypes[0])||!o["*"]&&s("*")}function j(t,n){var i,s,o=oe.ajaxSettings.flatOptions||{};for(i in n)n[i]!==e&&((o[i]?t:s||(s={}))[i]=n[i]);return s&&oe.extend(!0,t,s),t}function P(t,n,i){for(var s,o,r,a,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),s===e&&(s=t.mimeType||n.getResponseHeader("Content-Type"));if(s)for(o in l)if(l[o]&&l[o].test(s)){c.unshift(o);break}if(c[0]in i)r=c[0];else{for(o in i){if(!c[0]||t.converters[o+" "+c[0]]){r=o;break}a||(a=o)}r=r||a}return r?(r!==c[0]&&c.unshift(r),i[r]):void 0}function D(t,e,n,i){var s,o,r,a,l,c={},u=t.dataTypes.slice();if(u[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=c[l+" "+o]||c["* "+o],!r)for(s in c)if(a=s.split(" "),a[1]===o&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[s]:c[s]!==!0&&(o=a[0],u.unshift(a[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(h){return{state:"parsererror",error:r?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function O(){return setTimeout(function(){$n=e}),$n=oe.now()}function A(t,e){oe.each(e,function(e,n){for(var i=(On[e]||[]).concat(On["*"]),s=0,o=i.length;o>s;s++)if(i[s].call(t,e,n))return})}function M(t,e,n){var i,s,o=0,r=Dn.length,a=oe.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=$n||O(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(o);return a.notifyWith(t,[c,o,n]),1>o&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:oe.extend({},e),opts:oe.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:$n||O(),duration:n.duration,tweens:[],createTween:function(e,n){var i=oe.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(s)return this;for(s=!0;i>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(L(u,c.opts.specialEasing);r>o;o++)if(i=Dn[o].call(c,t,u,c.opts))return i;return A(c,u),oe.isFunction(c.opts.start)&&c.opts.start.call(t,c),oe.fx.timer(oe.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function L(t,e){var n,i,s,o,r;for(n in t)if(i=oe.camelCase(n),s=e[i],o=t[n],oe.isArray(o)&&(s=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),r=oe.cssHooks[i],r&&"expand"in r){o=r.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=s)}else e[i]=s}function H(t,n,i){var s,o,r,a,l,c,u,h,d,p=this,f=t.style,m={},g=[],v=t.nodeType&&b(t);i.queue||(h=oe._queueHooks(t,"fx"),null==h.unqueued&&(h.unqueued=0,d=h.empty.fire,h.empty.fire=function(){h.unqueued||d()}),h.unqueued++,p.always(function(){p.always(function(){h.unqueued--,oe.queue(t,"fx").length||h.empty.fire()})})),1===t.nodeType&&("height"in n||"width"in n)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===oe.css(t,"display")&&"none"===oe.css(t,"float")&&(f.display="inline-block")),i.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=ge.get(t,"fxshow");for(s in n)if(r=n[s],Nn.exec(r)){if(delete n[s],c=c||"toggle"===r,r===(v?"hide":"show")){if("show"!==r||l===e||l[s]===e)continue;v=!0}g.push(s)}if(a=g.length){l=ge.get(t,"fxshow")||ge.access(t,"fxshow",{}),"hidden"in l&&(v=l.hidden),c&&(l.hidden=!v),v?oe(t).show():p.done(function(){oe(t).hide()}),p.done(function(){var e;ge.remove(t,"fxshow");for(e in m)oe.style(t,e,m[e])});for(s=0;a>s;s++)o=g[s],u=p.createTween(o,v?l[o]:0),m[o]=l[o]||oe.style(t,o),o in l||(l[o]=u.start,v&&(u.end=u.start,u.start="width"===o||"height"===o?1:0))}}function I(t,e,n,i,s){return new I.prototype.init(t,e,n,i,s)}function F(t,e){var n,i={height:t},s=0;for(e=e?1:0;4>s;s+=2-e)n=Je[s],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function R(t){return oe.isWindow(t)?t:9===t.nodeType&&t.defaultView}var q,z,W=typeof e,B=t.location,U=t.document,V=U.documentElement,X=t.jQuery,Q=t.$,K={},Y=[],J="2.0.0",G=Y.concat,Z=Y.push,te=Y.slice,ee=Y.indexOf,ne=K.toString,ie=K.hasOwnProperty,se=J.trim,oe=function(t,e){return new oe.fn.init(t,e,q)},re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=/\S+/g,le=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ue=/^-ms-/,he=/-([\da-z])/gi,de=function(t,e){return e.toUpperCase()},pe=function(){U.removeEventListener("DOMContentLoaded",pe,!1),t.removeEventListener("load",pe,!1),oe.ready()};oe.fn=oe.prototype={jquery:J,constructor:oe,init:function(t,n,i){var s,o;if(!t)return this;if("string"==typeof t){if(s="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:le.exec(t),!s||!s[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(s[1]){if(n=n instanceof oe?n[0]:n,oe.merge(this,oe.parseHTML(s[1],n&&n.nodeType?n.ownerDocument||n:U,!0)),ce.test(s[1])&&oe.isPlainObject(n))for(s in n)oe.isFunction(this[s])?this[s](n[s]):this.attr(s,n[s]);return this}return o=U.getElementById(s[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=U,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):oe.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),oe.makeArray(t,this))},selector:"",length:0,toArray:function(){return te.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=oe.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return oe.each(this,t,e)},ready:function(t){return oe.ready.promise().done(t),this},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(oe.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},oe.fn.init.prototype=oe.fn,oe.extend=oe.fn.extend=function(){var t,n,i,s,o,r,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||oe.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(t=arguments[l]))for(n in t)i=a[n],s=t[n],a!==s&&(u&&s&&(oe.isPlainObject(s)||(o=oe.isArray(s)))?(o?(o=!1,r=i&&oe.isArray(i)?i:[]):r=i&&oe.isPlainObject(i)?i:{},a[n]=oe.extend(u,r,s)):s!==e&&(a[n]=s));return a},oe.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===oe&&(t.$=Q),e&&t.jQuery===oe&&(t.jQuery=X),oe},isReady:!1,readyWait:1,holdReady:function(t){t?oe.readyWait++:oe.ready(!0)},ready:function(t){(t===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,t!==!0&&--oe.readyWait>0||(z.resolveWith(U,[oe]),oe.fn.trigger&&oe(U).trigger("ready").off("ready")))},isFunction:function(t){return"function"===oe.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?K[ne.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==oe.type(t)||t.nodeType||oe.isWindow(t))return!1;try{if(t.constructor&&!ie.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||U;var i=ce.exec(t),s=!n&&[];return i?[e.createElement(i[1])]:(i=oe.buildFragment([t],e,s),s&&oe(s).remove(),oe.merge([],i.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var n,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,n=i.parseFromString(t,"text/xml")}catch(s){n=e}return(!n||n.getElementsByTagName("parsererror").length)&&oe.error("Invalid XML: "+t),n},noop:function(){},globalEval:function(t){var e,n=eval;t=oe.trim(t),t&&(1===t.indexOf("use strict")?(e=U.createElement("script"),e.text=t,U.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ue,"ms-").replace(he,de)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var s,o=0,r=t.length,a=n(t);if(i){if(a)for(;r>o&&(s=e.apply(t[o],i),s!==!1);o++);else for(o in t)if(s=e.apply(t[o],i),s===!1)break}else if(a)for(;r>o&&(s=e.call(t[o],o,t[o]),s!==!1);o++);else for(o in t)if(s=e.call(t[o],o,t[o]),s===!1)break;return t},trim:function(t){return null==t?"":se.call(t)},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?oe.merge(i,"string"==typeof t?[t]:t):Z.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:ee.call(e,t,n)},merge:function(t,n){var i=n.length,s=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[s++]=n[o];else for(;n[o]!==e;)t[s++]=n[o++];return t.length=s,t},grep:function(t,e,n){var i,s=[],o=0,r=t.length;for(n=!!n;r>o;o++)i=!!e(t[o],o),n!==i&&s.push(t[o]);return s},map:function(t,e,i){var s,o=0,r=t.length,a=n(t),l=[];if(a)for(;r>o;o++)s=e(t[o],o,i),null!=s&&(l[l.length]=s);else for(o in t)s=e(t[o],o,i),null!=s&&(l[l.length]=s);return G.apply([],l)},guid:1,proxy:function(t,n){var i,s,o;return"string"==typeof n&&(i=t[n],n=t,t=i),oe.isFunction(t)?(s=te.call(arguments,2),o=function(){return t.apply(n||this,s.concat(te.call(arguments)))},o.guid=t.guid=t.guid||oe.guid++,o):e},access:function(t,n,i,s,o,r,a){var l=0,c=t.length,u=null==i;if("object"===oe.type(i)){o=!0;for(l in i)oe.access(t,n,l,i[l],!0,r,a)}else if(s!==e&&(o=!0,oe.isFunction(s)||(a=!0),u&&(a?(n.call(t,s),n=null):(u=n,n=function(t,e,n){return u.call(oe(t),n)})),n))for(;c>l;l++)n(t[l],i,a?s:s.call(t[l],l,n(t[l],i)));return o?t:u?n.call(t):c?n(t[0],i):r},now:Date.now,swap:function(t,e,n,i){var s,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];s=n.apply(t,i||[]);for(o in e)t.style[o]=r[o];return s}}),oe.ready.promise=function(e){return z||(z=oe.Deferred(),"complete"===U.readyState?setTimeout(oe.ready):(U.addEventListener("DOMContentLoaded",pe,!1),t.addEventListener("load",pe,!1))),z.promise(e)},oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){K["[object "+e+"]"]=e.toLowerCase()}),q=oe(U),function(t,e){function n(t){return be.test(t+"")}function i(){var t,e=[];return t=function(n,i){return e.push(n+=" ")>S.cacheLength&&delete t[e.shift()],t[n]=i}}function s(t){return t[R]=!0,t}function o(t){var e=O.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e,n,i){var s,o,r,a,l,c,u,h,d,m;if((e?e.ownerDocument||e:q)!==O&&D(e),e=e||O,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(M&&!i){if(s=we.exec(t))if(r=s[1]){if(9===a){if(o=e.getElementById(r),!o||!o.parentNode)return n;if(o.id===r)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(r))&&F(e,o)&&o.id===r)return n.push(o),n}else{if(s[2])return ee.apply(n,e.getElementsByTagName(t)),n;if((r=s[3])&&z.getElementsByClassName&&e.getElementsByClassName)return ee.apply(n,e.getElementsByClassName(r)),n}if(z.qsa&&(!L||!L.test(t))){if(h=u=R,d=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=p(t),(u=e.getAttribute("id"))?h=u.replace(Ce,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+f(c[l]);d=fe.test(t)&&e.parentNode||e,m=c.join(",")}if(m)try{return ee.apply(n,d.querySelectorAll(m)),n}catch(g){}finally{u||e.removeAttribute("id")}}}return _(t.replace(he,"$1"),e,n,i)}function a(t,e){var n=e&&t,i=n&&(~e.sourceIndex||J)-(~t.sourceIndex||J);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t,n,i){var s;return i?e:(s=t.getAttributeNode(n))&&s.specified?s.value:t[n]===!0?n.toLowerCase():null}function c(t,n,i){var s;return i?e:s=t.getAttribute(n,"type"===n.toLowerCase()?1:2)}function u(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function h(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function d(t){return s(function(e){return e=+e,s(function(n,i){for(var s,o=t([],n.length,e),r=o.length;r--;)n[s=o[r]]&&(n[s]=!(i[s]=n[s]))})})}function p(t,e){var n,i,s,o,a,l,c,u=V[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=S.preFilter;a;){(!n||(i=de.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(s=[])),n=!1,(i=pe.exec(a))&&(n=i.shift(),s.push({value:n,type:i[0].replace(he," ")}),a=a.slice(n.length));for(o in S.filter)!(i=ye[o].exec(a))||c[o]&&!(i=c[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?r.error(t):V(t,l).slice(0)}function f(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function m(t,e,n){var i=e.dir,s=n&&"parentNode"===i,o=B++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,o)}:function(e,n,r){var a,l,c,u=W+" "+o;if(r){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,r))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=e[R]||(e[R]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===T)return a===!0}else if(l=c[i]=[u],l[1]=t(e,n,r)||T,l[1]===!0)return!0}}function g(t){return t.length>1?function(e,n,i){for(var s=t.length;s--;)if(!t[s](e,n,i))return!1;return!0}:t[0]}function v(t,e,n,i,s){for(var o,r=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,s))&&(r.push(o),c&&e.push(a));return r}function y(t,e,n,i,o,r){return i&&!i[R]&&(i=y(i)),o&&!o[R]&&(o=y(o,r)),s(function(s,r,a,l){var c,u,h,d=[],p=[],f=r.length,m=s||x(e||"*",a.nodeType?[a]:a,[]),g=!t||!s&&e?m:v(m,d,t,a,l),y=n?o||(s?t:f||i)?[]:r:g;if(n&&n(g,y,a,l),i)for(c=v(y,p),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(g[p[u]]=h));if(s){if(o||t){if(o){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(g[u]=h);o(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=o?ie.call(s,h):d[u])>-1&&(s[c]=!(r[c]=h))}}else y=v(y===r?y.splice(f,y.length):y),o?o(null,r,y,l):ee.apply(r,y)})}function b(t){for(var e,n,i,s=t.length,o=S.relative[t[0].type],r=o||S.relative[" "],a=o?1:0,l=m(function(t){return t===e},r,!0),c=m(function(t){return ie.call(e,t)>-1},r,!0),u=[function(t,n,i){return!o&&(i||n!==j)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];s>a;a++)if(n=S.relative[t[a].type])u=[m(g(u),n)];else{if(n=S.filter[t[a].type].apply(null,t[a].matches),n[R]){for(i=++a;s>i&&!S.relative[t[i].type];i++);return y(a>1&&g(u),a>1&&f(t.slice(0,a-1)).replace(he,"$1"),n,i>a&&b(t.slice(a,i)),s>i&&b(t=t.slice(i)),s>i&&f(t))}u.push(n)}return g(u)}function w(t,e){var n=0,i=e.length>0,o=t.length>0,a=function(s,a,l,c,u){var h,d,p,f=[],m=0,g="0",y=s&&[],b=null!=u,w=j,x=s||o&&S.find.TAG("*",u&&a.parentNode||a),_=W+=null==w?1:Math.random()||.1;for(b&&(j=a!==O&&a,T=n);null!=(h=x[g]);g++){if(o&&h){for(d=0;p=t[d++];)if(p(h,a,l)){c.push(h);break}b&&(W=_,T=++n)}i&&((h=!p&&h)&&m--,s&&y.push(h))}if(m+=g,i&&g!==m){for(d=0;p=e[d++];)p(y,f,a,l);if(s){if(m>0)for(;g--;)y[g]||f[g]||(f[g]=Z.call(c));f=v(f)}ee.apply(c,f),b&&!s&&f.length>0&&m+e.length>1&&r.uniqueSort(c)}return b&&(W=_,j=w),y};return i?s(a):a}function x(t,e,n){for(var i=0,s=e.length;s>i;i++)r(t,e[i],n);return n}function _(t,e,n,i){var s,o,r,a,l,c=p(t);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&9===e.nodeType&&M&&S.relative[o[1].type]){if(e=(S.find.ID(r.matches[0].replace(ke,Te),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(s=ye.needsContext.test(t)?0:o.length;s--&&(r=o[s],!S.relative[a=r.type]);)if((l=S.find[a])&&(i=l(r.matches[0].replace(ke,Te),fe.test(o[0].type)&&e.parentNode||e))){if(o.splice(s,1),t=i.length&&f(o),!t)return ee.apply(n,i),n;break}}return N(t,c)(i,e,!M,n,fe.test(t)),n}function C(){}var k,T,S,$,E,N,j,P,D,O,A,M,L,H,I,F,R="sizzle"+-new Date,q=t.document,z={},W=0,B=0,U=i(),V=i(),X=i(),Q=!1,K=function(){return 0},Y=typeof e,J=1<<31,G=[],Z=G.pop,te=G.push,ee=G.push,ne=G.slice,ie=G.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},se="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",le=ae.replace("w","w#"),ce="\\["+re+"*("+ae+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+le+")|)|)"+re+"*\\]",ue=":("+ae+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ce.replace(3,8)+")*)|.*)\\)|)",he=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),de=new RegExp("^"+re+"*,"+re+"*"),pe=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp(re+"*[+~]"),me=new RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),ge=new RegExp(ue),ve=new RegExp("^"+le+"$"),ye={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+ce),PSEUDO:new RegExp("^"+ue),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),"boolean":new RegExp("^(?:"+se+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},be=/^[^{]+\{\s*\[native \w/,we=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,Ce=/'|\\/g,ke=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Te=function(t,e){var n="0x"+e-65536;return n!==n?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{ee.apply(G=ne.call(q.childNodes),q.childNodes),G[q.childNodes.length].nodeType}catch(Se){ee={apply:G.length?function(t,e){te.apply(t,ne.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}E=r.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},D=r.setDocument=function(t){var i=t?t.ownerDocument||t:q;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,A=i.documentElement,M=!E(i),z.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),z.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),z.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),z.sortDetached=o(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),z.getById=o(function(t){return A.appendChild(t).id=R,!i.getElementsByName||!i.getElementsByName(R).length}),z.getById?(S.find.ID=function(t,e){if(typeof e.getElementById!==Y&&M){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(t){var e=t.replace(ke,Te);return function(t){return t.getAttribute("id")===e}}):(S.find.ID=function(t,n){if(typeof n.getElementById!==Y&&M){var i=n.getElementById(t);return i?i.id===t||typeof i.getAttributeNode!==Y&&i.getAttributeNode("id").value===t?[i]:e:[]}},S.filter.ID=function(t){var e=t.replace(ke,Te);return function(t){var n=typeof t.getAttributeNode!==Y&&t.getAttributeNode("id");return n&&n.value===e}}),S.find.TAG=z.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],s=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[s++];)1===n.nodeType&&i.push(n);return i}return o},S.find.CLASS=z.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Y&&M?e.getElementsByClassName(t):void 0},H=[],L=[],(z.qsa=n(i.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||L.push("\\["+re+"*(?:value|"+se+")"),t.querySelectorAll(":checked").length||L.push(":checked")}),o(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&L.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(z.matchesSelector=n(I=A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(t){z.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),H.push("!=",ue)}),L=L.length&&new RegExp(L.join("|")),H=H.length&&new RegExp(H.join("|")),F=n(A.contains)||A.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=A.compareDocumentPosition?function(t,e){if(t===e)return Q=!0,0;var n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e);return n?1&n||!z.sortDetached&&e.compareDocumentPosition(t)===n?t===i||F(q,t)?-1:e===i||F(q,e)?1:P?ie.call(P,t)-ie.call(P,e):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,s=0,o=t.parentNode,r=e.parentNode,l=[t],c=[e];if(t===e)return Q=!0,0;if(!o||!r)return t===i?-1:e===i?1:o?-1:r?1:P?ie.call(P,t)-ie.call(P,e):0;if(o===r)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[s]===c[s];)s++;return s?a(l[s],c[s]):l[s]===q?-1:c[s]===q?1:0},O):O},r.matches=function(t,e){return r(t,null,null,e)},r.matchesSelector=function(t,e){if((t.ownerDocument||t)!==O&&D(t),e=e.replace(me,"='$1']"),!(!z.matchesSelector||!M||H&&H.test(e)||L&&L.test(e)))try{var n=I.call(t,e);if(n||z.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(i){}return r(e,O,null,[t]).length>0},r.contains=function(t,e){return(t.ownerDocument||t)!==O&&D(t),F(t,e)},r.attr=function(t,n){(t.ownerDocument||t)!==O&&D(t);var i=S.attrHandle[n.toLowerCase()],s=i&&i(t,n,!M);return s===e?z.attributes||!M?t.getAttribute(n):(s=t.getAttributeNode(n))&&s.specified?s.value:null:s},r.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},r.uniqueSort=function(t){var e,n=[],i=0,s=0;if(Q=!z.detectDuplicates,P=!z.sortStable&&t.slice(0),t.sort(K),Q){for(;e=t[s++];)e===t[s]&&(i=n.push(s));for(;i--;)t.splice(n[i],1)}return t},$=r.getText=function(t){var e,n="",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=$(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i];i++)n+=$(e);return n},S=r.selectors={cacheLength:50,createPseudo:s,match:ye,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ke,Te),t[3]=(t[4]||t[5]||"").replace(ke,Te),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||r.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&r.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return ye.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:n&&ge.test(n)&&(e=p(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ke,Te).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Y&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var s=r.attr(i,t);return null==s?"!="===e:e?(s+="","="===e?s===n:"!="===e?s!==n:"^="===e?n&&0===s.indexOf(n):"*="===e?n&&s.indexOf(n)>-1:"$="===e?n&&s.slice(-n.length)===n:"~="===e?(" "+s+" ").indexOf(n)>-1:"|="===e?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,n,i,s){var o="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===s?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,m=o!==r?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&y){for(u=g[R]||(g[R]={}),c=u[t]||[],p=c[0]===W&&c[1],d=c[0]===W&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[W,p,d];break}}else if(y&&(c=(e[R]||(e[R]={}))[t])&&c[0]===W)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[R]||(h[R]={}))[t]=[W,d]),h!==e)););return d-=s,d===i||0===d%i&&d/i>=0}}},PSEUDO:function(t,e){var n,i=S.pseudos[t]||S.setFilters[t.toLowerCase()]||r.error("unsupported pseudo: "+t);return i[R]?i(e):i.length>1?(n=[t,t,"",e],S.setFilters.hasOwnProperty(t.toLowerCase())?s(function(t,n){for(var s,o=i(t,e),r=o.length;r--;)s=ie.call(t,o[r]),t[s]=!(n[s]=o[r])}):function(t){return i(t,0,n)}):i}},pseudos:{not:s(function(t){var e=[],n=[],i=N(t.replace(he,"$1"));return i[R]?s(function(t,e,n,s){for(var o,r=i(t,null,s,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,s,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:s(function(t){return function(e){return r(t,e).length>0}}),contains:s(function(t){return function(e){return(e.textContent||e.innerText||$(e)).indexOf(t)>-1}}),lang:s(function(t){return ve.test(t||"")||r.error("unsupported lang: "+t),t=t.replace(ke,Te).toLowerCase(),function(e){var n;do if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0
},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return _e.test(t.nodeName)},input:function(t){return xe.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:d(function(){return[0]}),last:d(function(t,e){return[e-1]}),eq:d(function(t,e,n){return[0>n?n+e:n]}),even:d(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:d(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:d(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:d(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}};for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[k]=u(k);for(k in{submit:!0,reset:!0})S.pseudos[k]=h(k);N=r.compile=function(t,e){var n,i=[],s=[],o=X[t+" "];if(!o){for(e||(e=p(t)),n=e.length;n--;)o=b(e[n]),o[R]?i.push(o):s.push(o);o=X(t,w(s,i))}return o},S.pseudos.nth=S.pseudos.eq,C.prototype=S.filters=S.pseudos,S.setFilters=new C,z.sortStable=R.split("").sort(K).join("")===R,D(),[0,0].sort(K),z.detectDuplicates=Q,o(function(t){if(t.innerHTML="<a href='#'></a>","#"!==t.firstChild.getAttribute("href"))for(var e="type|href|height|width".split("|"),n=e.length;n--;)S.attrHandle[e[n]]=c}),o(function(t){if(null!=t.getAttribute("disabled"))for(var e=se.split("|"),n=e.length;n--;)S.attrHandle[e[n]]=l}),oe.find=r,oe.expr=r.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=r.uniqueSort,oe.text=r.getText,oe.isXMLDoc=r.isXML,oe.contains=r.contains}(t);var fe={};oe.Callbacks=function(t){t="string"==typeof t?fe[t]||i(t):oe.extend({},t);var n,s,o,r,a,l,c=[],u=!t.once&&[],h=function(e){for(n=t.memory&&e,s=!0,l=r||0,r=0,a=c.length,o=!0;c&&a>l;l++)if(c[l].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}o=!1,c&&(u?u.length&&h(u.shift()):n?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function i(e){oe.each(e,function(e,n){var s=oe.type(n);"function"===s?t.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==s&&i(n)})}(arguments),o?a=c.length:n&&(r=e,h(n))}return this},remove:function(){return c&&oe.each(arguments,function(t,e){for(var n;(n=oe.inArray(e,c,n))>-1;)c.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(t){return t?oe.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=n=e,this},disabled:function(){return!c},lock:function(){return u=e,n||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||s&&!u||(o?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},oe.extend({Deferred:function(t){var e=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return oe.Deferred(function(n){oe.each(e,function(e,o){var r=o[0],a=oe.isFunction(t[e])&&t[e];s[o[1]](function(){var t=a&&a.apply(this,arguments);t&&oe.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?oe.extend(t,i):i}},s={};return i.pipe=i.then,oe.each(e,function(t,o){var r=o[2],a=o[3];i[o[1]]=r.add,a&&r.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?i:this,arguments),this},s[o[0]+"With"]=r.fireWith}),i.promise(s),t&&t.call(s,s),s},when:function(t){var e,n,i,s=0,o=te.call(arguments),r=o.length,a=1!==r||t&&oe.isFunction(t.promise)?r:0,l=1===a?t:oe.Deferred(),c=function(t,n,i){return function(s){n[t]=this,i[t]=arguments.length>1?te.call(arguments):s,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(r>1)for(e=new Array(r),n=new Array(r),i=new Array(r);r>s;s++)o[s]&&oe.isFunction(o[s].promise)?o[s].promise().done(c(s,i,o)).fail(l.reject).progress(c(s,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}}),oe.support=function(e){var n=U.createElement("input"),i=U.createDocumentFragment(),s=U.createElement("div"),o=U.createElement("select"),r=o.appendChild(U.createElement("option"));return n.type?(n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=r.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,n.checked=!0,e.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!r.disabled,n=U.createElement("input"),n.value="t",n.type="radio",e.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),i.appendChild(n),e.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===s.style.backgroundClip,oe(function(){var n,i,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r=U.getElementsByTagName("body")[0];r&&(n=U.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(n).appendChild(s),s.innerHTML="",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",oe.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===s.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(s,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(s,null)||{width:"4px"}).width,i=s.appendChild(U.createElement("div")),i.style.cssText=s.style.cssText=o,i.style.marginRight=i.style.width="0",s.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),r.removeChild(n))}),e):e}({});var me,ge,ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ye=/([A-Z])/g;s.uid=1,s.accepts=function(t){return t.nodeType?1===t.nodeType||9===t.nodeType:!0},s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,oe.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,s=this.key(t),o=this.cache[s];if("string"==typeof e)o[e]=n;else if(oe.isEmptyObject(o))this.cache[s]=e;else for(i in e)o[i]=e[i]},get:function(t,n){var i=this.cache[this.key(t)];return n===e?i:i[n]},access:function(t,n,i){return n===e||n&&"string"==typeof n&&i===e?this.get(t,n):(this.set(t,n,i),i!==e?i:n)},remove:function(t,n){var i,s,o=this.key(t),r=this.cache[o];if(n===e)this.cache[o]={};else{oe.isArray(n)?s=n.concat(n.map(oe.camelCase)):n in r?s=[n]:(s=oe.camelCase(n),s=s in r?[s]:s.match(ae)||[]),i=s.length;for(;i--;)delete r[s[i]]}},hasData:function(t){return!oe.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){delete this.cache[this.key(t)]}},me=new s,ge=new s,oe.extend({acceptData:s.accepts,hasData:function(t){return me.hasData(t)||ge.hasData(t)},data:function(t,e,n){return me.access(t,e,n)},removeData:function(t,e){me.remove(t,e)},_data:function(t,e,n){return ge.access(t,e,n)},_removeData:function(t,e){ge.remove(t,e)}}),oe.fn.extend({data:function(t,n){var i,s,r=this[0],a=0,l=null;if(t===e){if(this.length&&(l=me.get(r),1===r.nodeType&&!ge.get(r,"hasDataAttrs"))){for(i=r.attributes;a<i.length;a++)s=i[a].name,0===s.indexOf("data-")&&(s=oe.camelCase(s.substring(5)),o(r,s,l[s]));ge.set(r,"hasDataAttrs",!0)}return l}return"object"==typeof t?this.each(function(){me.set(this,t)}):oe.access(this,function(n){var i,s=oe.camelCase(t);if(r&&n===e){if(i=me.get(r,t),i!==e)return i;if(i=me.get(r,s),i!==e)return i;if(i=o(r,s,e),i!==e)return i}else this.each(function(){var i=me.get(this,s);me.set(this,s,n),-1!==t.indexOf("-")&&i!==e&&me.set(this,t,n)})},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){me.remove(this,t)})}}),oe.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ge.get(t,e),n&&(!i||oe.isArray(n)?i=ge.access(t,e,oe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=oe.queue(t,e),i=n.length,s=n.shift(),o=oe._queueHooks(t,e),r=function(){oe.dequeue(t,e)};"inprogress"===s&&(s=n.shift(),i--),o.cur=s,s&&("fx"===e&&n.unshift("inprogress"),delete o.stop,s.call(t,r,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ge.get(t,n)||ge.access(t,n,{empty:oe.Callbacks("once memory").add(function(){ge.remove(t,[e+"queue",n])})})}}),oe.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?oe.queue(this[0],t):n===e?this:this.each(function(){var e=oe.queue(this,t,n);oe._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&oe.dequeue(this,t)})},dequeue:function(t){return this.each(function(){oe.dequeue(this,t)})},delay:function(t,e){return t=oe.fx?oe.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,s=1,o=oe.Deferred(),r=this,a=this.length,l=function(){--s||o.resolveWith(r,[r])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)i=ge.get(r[a],t+"queueHooks"),i&&i.empty&&(s++,i.empty.add(l));return l(),o.promise(n)}});var be,we,xe=/[\t\r\n]/g,_e=/\r/g,Ce=/^(?:input|select|textarea|button)$/i;oe.fn.extend({attr:function(t,e){return oe.access(this,oe.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){oe.removeAttr(this,t)})},prop:function(t,e){return oe.access(this,oe.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[oe.propFix[t]||t]})},addClass:function(t){var e,n,i,s,o,r=0,a=this.length,l="string"==typeof t&&t;if(oe.isFunction(t))return this.each(function(e){oe(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ae)||[];a>r;r++)if(n=this[r],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):" ")){for(o=0;s=e[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");n.className=oe.trim(i)}return this},removeClass:function(t){var e,n,i,s,o,r=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(oe.isFunction(t))return this.each(function(e){oe(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ae)||[];a>r;r++)if(n=this[r],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):"")){for(o=0;s=e[o++];)for(;i.indexOf(" "+s+" ")>=0;)i=i.replace(" "+s+" "," ");n.className=t?oe.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return oe.isFunction(t)?this.each(function(n){oe(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var s,o=0,r=oe(this),a=e,l=t.match(ae)||[];s=l[o++];)a=i?a:!r.hasClass(s),r[a?"addClass":"removeClass"](s);else(n===W||"boolean"===n)&&(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xe," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,s,o=this[0];{if(arguments.length)return s=oe.isFunction(t),this.each(function(i){var o,r=oe(this);1===this.nodeType&&(o=s?t.call(this,i,r.val()):t,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(t){return null==t?"":t+""})),n=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==e||(this.value=o))});if(o)return n=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==e?i:(i=o.value,"string"==typeof i?i.replace(_e,""):null==i?"":i)}}}),oe.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,s=t.selectedIndex,o="select-one"===t.type||0>s,r=o?null:[],a=o?s+1:i.length,l=0>s?a:o?s:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==s||(oe.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(e=oe(n).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var n,i,s=t.options,o=oe.makeArray(e),r=s.length;r--;)i=s[r],(i.selected=oe.inArray(oe(i).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,n,i){var s,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===W?oe.prop(t,n,i):(1===r&&oe.isXMLDoc(t)||(n=n.toLowerCase(),s=oe.attrHooks[n]||(oe.expr.match.boolean.test(n)?we:be)),i===e?s&&"get"in s&&null!==(o=s.get(t,n))?o:(o=oe.find.attr(t,n),null==o?e:o):null!==i?s&&"set"in s&&(o=s.set(t,i,n))!==e?o:(t.setAttribute(n,i+""),i):(oe.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,i,s=0,o=e&&e.match(ae);if(o&&1===t.nodeType)for(;n=o[s++];)i=oe.propFix[n]||n,oe.expr.match.boolean.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!oe.support.radioValue&&"radio"===e&&oe.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,i){var s,o,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r=1!==a||!oe.isXMLDoc(t),r&&(n=oe.propFix[n]||n,o=oe.propHooks[n]),i!==e?o&&"set"in o&&(s=o.set(t,i,n))!==e?s:t[n]=i:o&&"get"in o&&null!==(s=o.get(t,n))?s:t[n]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Ce.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),we={set:function(t,e,n){return e===!1?oe.removeAttr(t,n):t.setAttribute(n,n),n}},oe.each(oe.expr.match.boolean.source.match(/\w+/g),function(t,n){var i=oe.expr.attrHandle[n]||oe.find.attr;oe.expr.attrHandle[n]=function(t,n,s){var o=oe.expr.attrHandle[n],r=s?e:(oe.expr.attrHandle[n]=e)!=i(t,n,s)?n.toLowerCase():null;return oe.expr.attrHandle[n]=o,r}}),oe.support.optSelected||(oe.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(t,e){return oe.isArray(e)?t.checked=oe.inArray(oe(t).val(),e)>=0:void 0}},oe.support.checkOn||(oe.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ke=/^key/,Te=/^(?:mouse|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,$e=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(t,n,i,s,o){var r,a,l,c,u,h,d,p,f,m,g,v=ge.get(t);if(v){for(i.handler&&(r=i,i=r.handler,o=r.selector),i.guid||(i.guid=oe.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof oe===W||t&&oe.event.triggered===t.type?e:oe.event.dispatch.apply(a.elem,arguments)},a.elem=t),n=(n||"").match(ae)||[""],u=n.length;u--;)l=$e.exec(n[u])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),f&&(d=oe.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=oe.event.special[f]||{},h=oe.extend({type:f,origType:g,data:s,handler:i,guid:i.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:m.join(".")},r),(p=c[f])||(p=c[f]=[],p.delegateCount=0,d.setup&&d.setup.call(t,s,m,a)!==!1||t.addEventListener&&t.addEventListener(f,a,!1)),d.add&&(d.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),oe.event.global[f]=!0);t=null}},remove:function(t,e,n,i,s){var o,r,a,l,c,u,h,d,p,f,m,g=ge.hasData(t)&&ge.get(t);if(g&&(l=g.events)){for(e=(e||"").match(ae)||[""],c=e.length;c--;)if(a=$e.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=oe.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=d.length;o--;)u=d[o],!s&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));r&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||oe.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)oe.event.remove(t,p+e[c],n,i,!0);oe.isEmptyObject(l)&&(delete g.handle,ge.remove(t,"events"))}},trigger:function(n,i,s,o){var r,a,l,c,u,h,d,p=[s||U],f=ie.call(n,"type")?n.type:n,m=ie.call(n,"namespace")?n.namespace.split("."):[];if(a=l=s=s||U,3!==s.nodeType&&8!==s.nodeType&&!Se.test(f+oe.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),u=f.indexOf(":")<0&&"on"+f,n=n[oe.expando]?n:new oe.Event(f,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=s),i=null==i?[n]:oe.makeArray(i,[n]),d=oe.event.special[f]||{},o||!d.trigger||d.trigger.apply(s,i)!==!1)){if(!o&&!d.noBubble&&!oe.isWindow(s)){for(c=d.delegateType||f,Se.test(c+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),l=a;l===(s.ownerDocument||U)&&p.push(l.defaultView||l.parentWindow||t)}for(r=0;(a=p[r++])&&!n.isPropagationStopped();)n.type=r>1?c:d.bindType||f,h=(ge.get(a,"events")||{})[n.type]&&ge.get(a,"handle"),h&&h.apply(a,i),h=u&&a[u],h&&oe.acceptData(a)&&h.apply&&h.apply(a,i)===!1&&n.preventDefault();return n.type=f,o||n.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),i)!==!1||!oe.acceptData(s)||u&&oe.isFunction(s[f])&&!oe.isWindow(s)&&(l=s[u],l&&(s[u]=null),oe.event.triggered=f,s[f](),oe.event.triggered=e,l&&(s[u]=l)),n.result}},dispatch:function(t){t=oe.event.fix(t);var n,i,s,o,r,a=[],l=te.call(arguments),c=(ge.get(this,"events")||{})[t.type]||[],u=oe.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=oe.event.handlers.call(this,t,c),n=0;(o=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,s=((oe.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),s!==e&&(t.result=s)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,s,o,r,a=[],l=n.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(s=[],i=0;l>i;i++)r=n[i],o=r.selector+" ",s[o]===e&&(s[o]=r.needsContext?oe(o,this).index(c)>=0:oe.find(o,this,null,[c]).length),s[o]&&s.push(r);s.length&&a.push({elem:c,handlers:s})}return l<n.length&&a.push({elem:this,handlers:n.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,s,o,r=n.button;return null==t.pageX&&null!=n.clientX&&(i=t.target.ownerDocument||U,s=i.documentElement,o=i.body,t.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),t.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),t.which||r===e||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[oe.expando])return t;var e,n,i,s=t.type,o=t,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=Te.test(s)?this.mouseHooks:ke.test(s)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,t=new oe.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return 3===t.target.nodeType&&(t.target=t.target.parentNode),r.filter?r.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return oe.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var s=oe.extend(new oe.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?oe.event.trigger(s,null,e):oe.event.dispatch.call(e,s),s.isDefaultPrevented()&&n.preventDefault()}},oe.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},oe.Event=function(t,e){return this instanceof oe.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?r:a):this.type=t,e&&oe.extend(this,e),this.timeStamp=t&&t.timeStamp||oe.now(),this[oe.expando]=!0,void 0):new oe.Event(t,e)},oe.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=r,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=r,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){oe.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,s=t.relatedTarget,o=t.handleObj;return(!s||s!==i&&!oe.contains(i,s))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),oe.support.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){oe.event.simulate(e,t.target,oe.event.fix(t),!0)};oe.event.special[e]={setup:function(){0===n++&&U.addEventListener(t,i,!0)},teardown:function(){0===--n&&U.removeEventListener(t,i,!0)}}}),oe.fn.extend({on:function(t,n,i,s,o){var r,l;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(l in t)this.on(l,n,i,t[l],o);return this}if(null==i&&null==s?(s=n,i=n=e):null==s&&("string"==typeof n?(s=i,i=e):(s=i,i=n,n=e)),s===!1)s=a;else if(!s)return this;return 1===o&&(r=s,s=function(t){return oe().off(t),r.apply(this,arguments)},s.guid=r.guid||(r.guid=oe.guid++)),this.each(function(){oe.event.add(this,t,s,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var s,o;if(t&&t.preventDefault&&t.handleObj)return s=t.handleObj,oe(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=a),this.each(function(){oe.event.remove(this,t,i,n)})},trigger:function(t,e){return this.each(function(){oe.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?oe.event.trigger(t,e,n,!0):void 0}});var Ee=/^.[^:#\[\.,]*$/,Ne=oe.expr.match.needsContext,je={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({find:function(t){var e,n,i,s=this.length;if("string"!=typeof t)return e=this,this.pushStack(oe(t).filter(function(){for(i=0;s>i;i++)if(oe.contains(e[i],this))return!0}));for(n=[],i=0;s>i;i++)oe.find(t,this[i],n);return n=this.pushStack(s>1?oe.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+t,n},has:function(t){var e=oe(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(oe.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(u(this,t||[],!0))},filter:function(t){return this.pushStack(u(this,t||[],!1))},is:function(t){return!!t&&("string"==typeof t?Ne.test(t)?oe(t,this.context).index(this[0])>=0:oe.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,i=0,s=this.length,o=[],r=Ne.test(t)||"string"!=typeof t?oe(t,e||this.context):0;s>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?oe.unique(o):o)},index:function(t){return t?"string"==typeof t?ee.call(oe(t),this[0]):ee.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?oe(t,e):oe.makeArray(t&&t.nodeType?[t]:t),i=oe.merge(this.get(),n);return this.pushStack(oe.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),oe.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return oe.dir(t,"parentNode")},parentsUntil:function(t,e,n){return oe.dir(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return oe.dir(t,"nextSibling")},prevAll:function(t){return oe.dir(t,"previousSibling")},nextUntil:function(t,e,n){return oe.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return oe.dir(t,"previousSibling",n)},siblings:function(t){return oe.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return oe.sibling(t.firstChild)},contents:function(t){return oe.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:oe.merge([],t.childNodes)}},function(t,e){oe.fn[t]=function(n,i){var s=oe.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(s=oe.filter(i,s)),this.length>1&&(je[t]||oe.unique(s),"p"===t[0]&&s.reverse()),this.pushStack(s)}}),oe.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?oe.find.matchesSelector(i,t)?[i]:[]:oe.find.matches(t,oe.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,i){for(var s=[],o=i!==e;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&oe(t).is(i))break;s.push(t)}return s},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,De=/<([\w:]+)/,Oe=/<|&#?\w+;/,Ae=/<(?:script|style|link)/i,Me=/^(?:checkbox|radio)$/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^$|\/(?:java|ecma)script/i,Ie=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Re={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Re.optgroup=Re.option,Re.tbody=Re.tfoot=Re.colgroup=Re.caption=Re.col=Re.thead,Re.th=Re.td,oe.fn.extend({text:function(t){return oe.access(this,function(t){return t===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?oe.filter(t,this):this,s=0;null!=(n=i[s]);s++)e||1!==n.nodeType||oe.cleanData(g(n)),n.parentNode&&(e&&oe.contains(n.ownerDocument,n)&&f(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(oe.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return oe.clone(this,t,e)})},html:function(t){return oe.access(this,function(t){var n=this[0]||{},i=0,s=this.length;if(t===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!Ae.test(t)&&!Re[(De.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Pe,"<$1></$2>");try{for(;s>i;i++)n=this[i]||{},1===n.nodeType&&(oe.cleanData(g(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=oe.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],s=t[e++];s&&(oe(this).remove(),s.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=G.apply([],t);var i,s,o,r,a,l,c=0,u=this.length,h=this,f=u-1,m=t[0],v=oe.isFunction(m);if(v||!(1>=u||"string"!=typeof m||oe.support.checkClone)&&Le.test(m))return this.each(function(i){var s=h.eq(i);v&&(t[0]=m.call(this,i,s.html())),s.domManip(t,e,n)});if(u&&(i=oe.buildFragment(t,this[0].ownerDocument,!1,!n&&this),s=i.firstChild,1===i.childNodes.length&&(i=s),s)){for(o=oe.map(g(i,"script"),d),r=o.length;u>c;c++)a=i,c!==f&&(a=oe.clone(a,!0,!0),r&&oe.merge(o,g(a,"script"))),e.call(this[c],a,c);if(r)for(l=o[o.length-1].ownerDocument,oe.map(o,p),c=0;r>c;c++)a=o[c],He.test(a.type||"")&&!ge.access(a,"globalEval")&&oe.contains(l,a)&&(a.src?oe._evalUrl(a.src):oe.globalEval(a.textContent.replace(Fe,"")))}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){oe.fn[t]=function(t){for(var n,i=[],s=oe(t),o=s.length-1,r=0;o>=r;r++)n=r===o?this:this.clone(!0),oe(s[r])[e](n),Z.apply(i,n.get());return this.pushStack(i)}}),oe.extend({clone:function(t,e,n){var i,s,o,r,a=t.cloneNode(!0),l=oe.contains(t.ownerDocument,t);if(!(oe.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||oe.isXMLDoc(t)))for(r=g(a),o=g(t),i=0,s=o.length;s>i;i++)v(o[i],r[i]);if(e)if(n)for(o=o||g(t),r=r||g(a),i=0,s=o.length;s>i;i++)m(o[i],r[i]);else m(t,a);return r=g(a,"script"),r.length>0&&f(r,!l&&g(t,"script")),a},buildFragment:function(t,e,n,i){for(var s,o,r,a,l,c,u=0,h=t.length,d=e.createDocumentFragment(),p=[];h>u;u++)if(s=t[u],s||0===s)if("object"===oe.type(s))oe.merge(p,s.nodeType?[s]:s);else if(Oe.test(s)){for(o=o||d.appendChild(e.createElement("div")),r=(De.exec(s)||["",""])[1].toLowerCase(),a=Re[r]||Re._default,o.innerHTML=a[1]+s.replace(Pe,"<$1></$2>")+a[2],c=a[0];c--;)o=o.firstChild;oe.merge(p,o.childNodes),o=d.firstChild,o.textContent=""}else p.push(e.createTextNode(s));for(d.textContent="",u=0;s=p[u++];)if((!i||-1===oe.inArray(s,i))&&(l=oe.contains(s.ownerDocument,s),o=g(d.appendChild(s),"script"),l&&f(o),n))for(c=0;s=o[c++];)He.test(s.type||"")&&n.push(s);return d},cleanData:function(t){for(var e,n,i,s=t.length,o=0,r=oe.event.special;s>o;o++){if(n=t[o],oe.acceptData(n)&&(e=ge.access(n)))for(i in e.events)r[i]?oe.event.remove(n,i):oe.removeEvent(n,i,e.handle);me.discard(n),ge.discard(n)}},_evalUrl:function(t){return oe.ajax({url:t,type:"GET",dataType:"text",async:!1,global:!1,success:oe.globalEval})}}),oe.fn.extend({wrapAll:function(t){var e;return oe.isFunction(t)?this.each(function(e){oe(this).wrapAll(t.call(this,e))}):(this[0]&&(e=oe(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return oe.isFunction(t)?this.each(function(e){oe(this).wrapInner(t.call(this,e))}):this.each(function(){var e=oe(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=oe.isFunction(t);return this.each(function(n){oe(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}});var qe,ze,We=/^(none|table(?!-c[ea]).+)/,Be=/^margin/,Ue=new RegExp("^("+re+")(.*)$","i"),Ve=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Xe=new RegExp("^([+-])=("+re+")","i"),Qe={BODY:"block"},Ke={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:0,fontWeight:400},Je=["Top","Right","Bottom","Left"],Ge=["Webkit","O","Moz","ms"];
oe.fn.extend({css:function(t,n){return oe.access(this,function(t,n,i){var s,o,r={},a=0;if(oe.isArray(n)){for(s=w(t),o=n.length;o>a;a++)r[n[a]]=oe.css(t,n[a],!1,s);return r}return i!==e?oe.style(t,n,i):oe.css(t,n)},t,n,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:b(this))?oe(this).show():oe(this).hide()})}}),oe.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qe(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,n,i,s){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,l=oe.camelCase(n),c=t.style;return n=oe.cssProps[l]||(oe.cssProps[l]=y(c,l)),a=oe.cssHooks[n]||oe.cssHooks[l],i===e?a&&"get"in a&&(o=a.get(t,!1,s))!==e?o:c[n]:(r=typeof i,"string"===r&&(o=Xe.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(oe.css(t,n)),r="number"),null==i||"number"===r&&isNaN(i)||("number"!==r||oe.cssNumber[l]||(i+="px"),oe.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(t,i,s))===e||(c[n]=i)),void 0)}},css:function(t,n,i,s){var o,r,a,l=oe.camelCase(n);return n=oe.cssProps[l]||(oe.cssProps[l]=y(t.style,l)),a=oe.cssHooks[n]||oe.cssHooks[l],a&&"get"in a&&(o=a.get(t,!0,i)),o===e&&(o=qe(t,n,s)),"normal"===o&&n in Ye&&(o=Ye[n]),""===i||i?(r=parseFloat(o),i===!0||oe.isNumeric(r)?r||0:o):o}}),qe=function(t,n,i){var s,o,r,a=i||w(t),l=a?a.getPropertyValue(n)||a[n]:e,c=t.style;return a&&(""!==l||oe.contains(t.ownerDocument,t)||(l=oe.style(t,n)),Ve.test(l)&&Be.test(n)&&(s=c.width,o=c.minWidth,r=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=s,c.minWidth=o,c.maxWidth=r)),l},oe.each(["height","width"],function(t,e){oe.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&We.test(oe.css(t,"display"))?oe.swap(t,Ke,function(){return k(t,e,i)}):k(t,e,i):void 0},set:function(t,n,i){var s=i&&w(t);return _(t,n,i?C(t,e,i,oe.support.boxSizing&&"border-box"===oe.css(t,"boxSizing",!1,s),s):0)}}}),oe(function(){oe.support.reliableMarginRight||(oe.cssHooks.marginRight={get:function(t,e){return e?oe.swap(t,{display:"inline-block"},qe,[t,"marginRight"]):void 0}}),!oe.support.pixelPosition&&oe.fn.position&&oe.each(["top","left"],function(t,e){oe.cssHooks[e]={get:function(t,n){return n?(n=qe(t,e),Ve.test(n)?oe(t).position()[e]+"px":n):void 0}}})}),oe.expr&&oe.expr.filters&&(oe.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},oe.expr.filters.visible=function(t){return!oe.expr.filters.hidden(t)}),oe.each({margin:"",padding:"",border:"Width"},function(t,e){oe.cssHooks[t+e]={expand:function(n){for(var i=0,s={},o="string"==typeof n?n.split(" "):[n];4>i;i++)s[t+Je[i]+e]=o[i]||o[i-2]||o[0];return s}},Be.test(t)||(oe.cssHooks[t+e].set=_)});var Ze=/%20/g,tn=/\[\]$/,en=/\r?\n/g,nn=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=oe.prop(this,"elements");return t?oe.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!oe(this).is(":disabled")&&sn.test(this.nodeName)&&!nn.test(t)&&(this.checked||!Me.test(t))}).map(function(t,e){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(t){return{name:e.name,value:t.replace(en,"\r\n")}}):{name:e.name,value:n.replace(en,"\r\n")}}).get()}}),oe.param=function(t,n){var i,s=[],o=function(t,e){e=oe.isFunction(e)?e():null==e?"":e,s[s.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(t)||t.jquery&&!oe.isPlainObject(t))oe.each(t,function(){o(this.name,this.value)});else for(i in t)$(i,t[i],n,o);return s.join("&").replace(Ze,"+")},oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){oe.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),oe.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var on,rn,an=oe.now(),ln=/\?/,cn=/#.*$/,un=/([?&])_=[^&]*/,hn=/^(.*?):[ \t]*([^\r\n]*)$/gm,dn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pn=/^(?:GET|HEAD)$/,fn=/^\/\//,mn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gn=oe.fn.load,vn={},yn={},bn="*/".concat("*");try{rn=B.href}catch(wn){rn=U.createElement("a"),rn.href="",rn=rn.href}on=mn.exec(rn.toLowerCase())||[],oe.fn.load=function(t,n,i){if("string"!=typeof t&&gn)return gn.apply(this,arguments);var s,o,r,a=this,l=t.indexOf(" ");return l>=0&&(s=t.slice(l),t=t.slice(0,l)),oe.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(o="POST"),a.length>0&&oe.ajax({url:t,type:o,dataType:"html",data:n}).done(function(t){r=arguments,a.html(s?oe("<div>").append(oe.parseHTML(t)).find(s):t)}).complete(i&&function(t,e){a.each(i,r||[t.responseText,e,t])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){oe.fn[e]=function(t){return this.on(e,t)}}),oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:rn,type:"GET",isLocal:dn.test(on[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,oe.ajaxSettings),e):j(oe.ajaxSettings,t)},ajaxPrefilter:E(vn),ajaxTransport:E(yn),ajax:function(t,n){function i(t,n,i,a){var c,h,y,b,x,C=n;2!==w&&(w=2,l&&clearTimeout(l),s=e,r=a||"",_.readyState=t>0?4:0,c=t>=200&&300>t||304===t,i&&(b=P(d,_,i)),b=D(d,b,_,c),c?(d.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(oe.lastModified[o]=x),x=_.getResponseHeader("etag"),x&&(oe.etag[o]=x)),204===t?C="nocontent":304===t?C="notmodified":(C=b.state,h=b.data,y=b.error,c=!y)):(y=C,(t||!C)&&(C="error",0>t&&(t=0))),_.status=t,_.statusText=(n||C)+"",c?m.resolveWith(p,[h,C,_]):m.rejectWith(p,[_,C,y]),_.statusCode(v),v=e,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[_,d,c?h:y]),g.fireWith(p,[_,C]),u&&(f.trigger("ajaxComplete",[_,d]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var s,o,r,a,l,c,u,h,d=oe.ajaxSetup({},n),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?oe(p):oe.event,m=oe.Deferred(),g=oe.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=hn.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?r:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||x;return s&&s.abort(e),i(0,e),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,d.url=((t||d.url||rn)+"").replace(cn,"").replace(fn,on[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=oe.trim(d.dataType||"*").toLowerCase().match(ae)||[""],null==d.crossDomain&&(c=mn.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===on[1]&&c[2]===on[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(on[3]||("http:"===on[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=oe.param(d.data,d.traditional)),N(vn,d,n,_),2===w)return _;u=d.global,u&&0===oe.active++&&oe.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!pn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(ln.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=un.test(o)?o.replace(un,"$1_="+an++):o+(ln.test(o)?"&":"?")+"_="+an++)),d.ifModified&&(oe.lastModified[o]&&_.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&_.setRequestHeader("If-None-Match",oe.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+bn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)_.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,_,d)===!1||2===w))return _.abort();x="abort";for(h in{success:1,error:1,complete:1})_[h](d[h]);if(s=N(yn,d,n,_)){_.readyState=1,u&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},d.timeout));try{w=1,s.send(y,i)}catch(C){if(!(2>w))throw C;i(-1,C)}}else i(-1,"No Transport");return _},getJSON:function(t,e,n){return oe.get(t,e,n,"json")},getScript:function(t,n){return oe.get(t,e,n,"script")}}),oe.each(["get","post"],function(t,n){oe[n]=function(t,i,s,o){return oe.isFunction(i)&&(o=o||s,s=i,i=e),oe.ajax({url:t,type:n,dataType:o,data:i,success:s})}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return oe.globalEval(t),t}}}),oe.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),oe.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,s){e=oe("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&s("error"===t.type?404:200,t.type)}),U.head.appendChild(e[0])},abort:function(){n&&n()}}}});var xn=[],_n=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=xn.pop()||oe.expando+"_"+an++;return this[t]=!0,t}}),oe.ajaxPrefilter("json jsonp",function(n,i,s){var o,r,a,l=n.jsonp!==!1&&(_n.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&_n.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=oe.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(_n,"$1"+o):n.jsonp!==!1&&(n.url+=(ln.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||oe.error(o+" was not called"),a[0]},n.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},s.always(function(){t[o]=r,n[o]&&(n.jsonpCallback=i.jsonpCallback,xn.push(o)),a&&oe.isFunction(r)&&r(a[0]),a=r=e}),"script"):void 0}),oe.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Cn=oe.ajaxSettings.xhr(),kn={0:200,1223:204},Tn=0,Sn={};t.ActiveXObject&&oe(t).on("unload",function(){for(var t in Sn)Sn[t]();Sn=e}),oe.support.cors=!!Cn&&"withCredentials"in Cn,oe.support.ajax=Cn=!!Cn,oe.ajaxTransport(function(t){var n;return oe.support.cors||Cn&&!t.crossDomain?{send:function(i,s){var o,r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)a.setRequestHeader(o,i[o]);n=function(t){return function(){n&&(delete Sn[r],n=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?s(a.status||404,a.statusText):s(kn[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:e,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=Sn[r=Tn++]=n("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){n&&n()}}:void 0});var $n,En,Nn=/^(?:toggle|show|hide)$/,jn=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),Pn=/queueHooks$/,Dn=[H],On={"*":[function(t,e){var n,i,s=this.createTween(t,e),o=jn.exec(e),r=s.cur(),a=+r||0,l=1,c=20;if(o){if(n=+o[2],i=o[3]||(oe.cssNumber[t]?"":"px"),"px"!==i&&a){a=oe.css(s.elem,t,!0)||n||1;do l=l||".5",a/=l,oe.style(s.elem,t,a+i);while(l!==(l=s.cur()/r)&&1!==l&&--c)}s.unit=i,s.start=a,s.end=o[1]?a+(o[1]+1)*n:n}return s}]};oe.Animation=oe.extend(M,{tweener:function(t,e){oe.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,s=t.length;s>i;i++)n=t[i],On[n]=On[n]||[],On[n].unshift(e)},prefilter:function(t,e){e?Dn.unshift(t):Dn.push(t)}}),oe.Tween=I,I.prototype={constructor:I,init:function(t,e,n,i,s,o){this.elem=t,this.prop=n,this.easing=s||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,n=I.propHooks[this.prop];return this.pos=e=this.options.duration?oe.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=oe.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){oe.fx.step[t.prop]?oe.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[oe.cssProps[t.prop]]||oe.cssHooks[t.prop])?oe.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},oe.each(["toggle","show","hide"],function(t,e){var n=oe.fn[e];oe.fn[e]=function(t,i,s){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(F(e,!0),t,i,s)}}),oe.fn.extend({fadeTo:function(t,e,n,i){return this.filter(b).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var s=oe.isEmptyObject(t),o=oe.speed(e,n,i),r=function(){var e=M(this,oe.extend({},t),o);r.finish=function(){e.stop(!0)},(s||ge.get(this,"finish"))&&e.stop(!0)};return r.finish=r,s||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(t,n,i){var s=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=oe.timers,r=ge.get(this);if(n)r[n]&&r[n].stop&&s(r[n]);else for(n in r)r[n]&&r[n].stop&&Pn.test(n)&&s(r[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));(e||!i)&&oe.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ge.get(this),i=n[t+"queue"],s=n[t+"queueHooks"],o=oe.timers,r=i?i.length:0;for(n.finish=!0,oe.queue(this,t,[]),s&&s.cur&&s.cur.finish&&s.cur.finish.call(this),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;r>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),oe.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){oe.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),oe.speed=function(t,e,n){var i=t&&"object"==typeof t?oe.extend({},t):{complete:n||!n&&e||oe.isFunction(t)&&t,duration:t,easing:n&&e||e&&!oe.isFunction(e)&&e};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},oe.timers=[],oe.fx=I.prototype.init,oe.fx.tick=function(){var t,n=oe.timers,i=0;for($n=oe.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||oe.fx.stop(),$n=e},oe.fx.timer=function(t){t()&&oe.timers.push(t)&&oe.fx.start()},oe.fx.interval=13,oe.fx.start=function(){En||(En=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(En),En=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fx.step={},oe.expr&&oe.expr.filters&&(oe.expr.filters.animated=function(t){return oe.grep(oe.timers,function(e){return t===e.elem}).length}),oe.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){oe.offset.setOffset(this,t,e)});var n,i,s=this[0],o={top:0,left:0},r=s&&s.ownerDocument;if(r)return n=r.documentElement,oe.contains(n,s)?(typeof s.getBoundingClientRect!==W&&(o=s.getBoundingClientRect()),i=R(r),{top:o.top+i.pageYOffset-n.clientTop,left:o.left+i.pageXOffset-n.clientLeft}):o},oe.offset={setOffset:function(t,e,n){var i,s,o,r,a,l,c,u=oe.css(t,"position"),h=oe(t),d={};"static"===u&&(t.style.position="relative"),a=h.offset(),o=oe.css(t,"top"),l=oe.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=h.position(),r=i.top,s=i.left):(r=parseFloat(o)||0,s=parseFloat(l)||0),oe.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+r),null!=e.left&&(d.left=e.left-a.left+s),"using"in e?e.using.call(t,d):h.css(d)}},oe.fn.extend({position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===oe.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),oe.nodeName(t[0],"html")||(i=t.offset()),i.top+=oe.css(t[0],"borderTopWidth",!0),i.left+=oe.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-oe.css(n,"marginTop",!0),left:e.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||V;t&&!oe.nodeName(t,"html")&&"static"===oe.css(t,"position");)t=t.offsetParent;return t||V})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,i){var s="pageYOffset"===i;oe.fn[n]=function(o){return oe.access(this,function(n,o,r){var a=R(n);return r===e?a?a[i]:n[o]:(a?a.scrollTo(s?t.pageXOffset:r,s?r:t.pageYOffset):n[o]=r,void 0)},n,o,arguments.length,null)}}),oe.each({Height:"height",Width:"width"},function(t,n){oe.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,s){oe.fn[s]=function(s,o){var r=arguments.length&&(i||"boolean"!=typeof s),a=i||(s===!0||o===!0?"margin":"border");return oe.access(this,function(n,i,s){var o;return oe.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):s===e?oe.css(n,i,a):oe.style(n,i,s,a)},n,r?s:e,r,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=oe:"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=oe)}(window),function(){var t=this,e=t._,n={},i=Array.prototype,s=Object.prototype,o=Function.prototype,r=i.push,a=i.slice,l=i.concat,c=s.toString,u=s.hasOwnProperty,h=i.forEach,d=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,x=Object.keys,_=o.bind,C=function(t){return t instanceof C?t:this instanceof C?(this._wrapped=t,void 0):new C(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):t._=C,C.VERSION="1.4.4";var k=C.each=C.forEach=function(t,e,i){if(null!=t)if(h&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length){for(var s=0,o=t.length;o>s;s++)if(e.call(i,t[s],s,t)===n)return}else for(var r in t)if(C.has(t,r)&&e.call(i,t[r],r,t)===n)return};C.map=C.collect=function(t,e,n){var i=[];return null==t?i:d&&t.map===d?t.map(e,n):(k(t,function(t,s,o){i[i.length]=e.call(n,t,s,o)}),i)};var T="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,e,n,i){var s=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return i&&(e=C.bind(e,i)),s?t.reduce(e,n):t.reduce(e);if(k(t,function(t,o,r){s?n=e.call(i,n,t,o,r):(n=t,s=!0)}),!s)throw new TypeError(T);return n},C.reduceRight=C.foldr=function(t,e,n,i){var s=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return i&&(e=C.bind(e,i)),s?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var r=C.keys(t);o=r.length}if(k(t,function(a,l,c){l=r?r[--o]:--o,s?n=e.call(i,n,t[l],l,c):(n=t[l],s=!0)}),!s)throw new TypeError(T);return n},C.find=C.detect=function(t,e,n){var i;return S(t,function(t,s,o){return e.call(n,t,s,o)?(i=t,!0):void 0}),i},C.filter=C.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(k(t,function(t,s,o){e.call(n,t,s,o)&&(i[i.length]=t)}),i)},C.reject=function(t,e,n){return C.filter(t,function(t,i,s){return!e.call(n,t,i,s)},n)},C.every=C.all=function(t,e,i){e||(e=C.identity);var s=!0;return null==t?s:g&&t.every===g?t.every(e,i):(k(t,function(t,o,r){return(s=s&&e.call(i,t,o,r))?void 0:n}),!!s)};var S=C.some=C.any=function(t,e,i){e||(e=C.identity);var s=!1;return null==t?s:v&&t.some===v?t.some(e,i):(k(t,function(t,o,r){return s||(s=e.call(i,t,o,r))?n:void 0}),!!s)};C.contains=C.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):S(t,function(t){return t===e})},C.invoke=function(t,e){var n=a.call(arguments,2),i=C.isFunction(e);return C.map(t,function(t){return(i?e:t[e]).apply(t,n)})},C.pluck=function(t,e){return C.map(t,function(t){return t[e]})},C.where=function(t,e,n){return C.isEmpty(e)?n?null:[]:C[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},C.findWhere=function(t,e){return C.where(t,e,!0)},C.max=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&C.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return k(t,function(t,s,o){var r=e?e.call(n,t,s,o):t;r>=i.computed&&(i={value:t,computed:r})}),i.value},C.min=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&C.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return k(t,function(t,s,o){var r=e?e.call(n,t,s,o):t;r<i.computed&&(i={value:t,computed:r})}),i.value},C.shuffle=function(t){var e,n=0,i=[];return k(t,function(t){e=C.random(n++),i[n-1]=i[e],i[e]=t}),i};var $=function(t){return C.isFunction(t)?t:function(e){return e[t]}};C.sortBy=function(t,e,n){var i=$(e);return C.pluck(C.map(t,function(t,e,s){return{value:t,index:e,criteria:i.call(n,t,e,s)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index<e.index?-1:1}),"value")};var E=function(t,e,n,i){var s={},o=$(e||C.identity);return k(t,function(e,r){var a=o.call(n,e,r,t);i(s,a,e)}),s};C.groupBy=function(t,e,n){return E(t,e,n,function(t,e,n){(C.has(t,e)?t[e]:t[e]=[]).push(n)})},C.countBy=function(t,e,n){return E(t,e,n,function(t,e){C.has(t,e)||(t[e]=0),t[e]++})},C.sortedIndex=function(t,e,n,i){n=null==n?C.identity:$(n);for(var s=n.call(i,e),o=0,r=t.length;r>o;){var a=o+r>>>1;n.call(i,t[a])<s?o=a+1:r=a}return o},C.toArray=function(t){return t?C.isArray(t)?a.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:a.call(t,0,e)},C.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},C.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var N=function(t,e,n){return k(t,function(t){C.isArray(t)?e?r.apply(n,t):N(t,e,n):n.push(t)}),n};C.flatten=function(t,e){return N(t,e,[])},C.without=function(t){return C.difference(t,a.call(arguments,1))},C.uniq=C.unique=function(t,e,n,i){C.isFunction(e)&&(i=n,n=e,e=!1);var s=n?C.map(t,n,i):t,o=[],r=[];return k(s,function(n,i){(e?i&&r[r.length-1]===n:C.contains(r,n))||(r.push(n),o.push(t[i]))}),o},C.union=function(){return C.uniq(l.apply(i,arguments))},C.intersection=function(t){var e=a.call(arguments,1);return C.filter(C.uniq(t),function(t){return C.every(e,function(e){return C.indexOf(e,t)>=0})})},C.difference=function(t){var e=l.apply(i,a.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=a.call(arguments),e=C.max(C.pluck(t,"length")),n=new Array(e),i=0;e>i;i++)n[i]=C.pluck(t,""+i);return n},C.object=function(t,e){if(null==t)return{};for(var n={},i=0,s=t.length;s>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},C.indexOf=function(t,e,n){if(null==t)return-1;var i=0,s=t.length;if(n){if("number"!=typeof n)return i=C.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,s+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;s>i;i++)if(t[i]===e)return i;return-1},C.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var s=i?n:t.length;s--;)if(t[s]===e)return s;return-1},C.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),s=0,o=new Array(i);i>s;)o[s++]=t,t+=n;return o},C.bind=function(t,e){if(t.bind===_&&_)return _.apply(t,a.call(arguments,1));var n=a.call(arguments,2);return function(){return t.apply(e,n.concat(a.call(arguments)))}},C.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},C.bindAll=function(t){var e=a.call(arguments,1);return 0===e.length&&(e=C.functions(t)),k(e,function(e){t[e]=C.bind(t[e],t)}),t},C.memoize=function(t,e){var n={};return e||(e=C.identity),function(){var i=e.apply(this,arguments);return C.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},C.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(a.call(arguments,1)))},C.throttle=function(t,e){var n,i,s,o,r=0,a=function(){r=new Date,s=null,o=t.apply(n,i)};return function(){var l=new Date,c=e-(l-r);return n=this,i=arguments,0>=c?(clearTimeout(s),s=null,r=l,o=t.apply(n,i)):s||(s=setTimeout(a,c)),o}},C.debounce=function(t,e,n){var i,s;return function(){var o=this,r=arguments,a=function(){i=null,n||(s=t.apply(o,r))},l=n&&!i;return clearTimeout(i),i=setTimeout(a,e),l&&(s=t.apply(o,r)),s}},C.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},C.wrap=function(t,e){return function(){var n=[t];return r.apply(n,arguments),e.apply(this,n)}},C.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},C.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},C.keys=x||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)C.has(t,n)&&(e[e.length]=n);return e},C.values=function(t){var e=[];for(var n in t)C.has(t,n)&&e.push(t[n]);return e},C.pairs=function(t){var e=[];for(var n in t)C.has(t,n)&&e.push([n,t[n]]);return e},C.invert=function(t){var e={};for(var n in t)C.has(t,n)&&(e[t[n]]=n);return e},C.functions=C.methods=function(t){var e=[];for(var n in t)C.isFunction(t[n])&&e.push(n);return e.sort()},C.extend=function(t){return k(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},C.pick=function(t){var e={},n=l.apply(i,a.call(arguments,1));return k(n,function(n){n in t&&(e[n]=t[n])}),e},C.omit=function(t){var e={},n=l.apply(i,a.call(arguments,1));for(var s in t)C.contains(n,s)||(e[s]=t[s]);return e},C.defaults=function(t){return k(a.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var j=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var s=c.call(t);if(s!=c.call(e))return!1;switch(s){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return i[o]==e;n.push(t),i.push(e);var r=0,a=!0;if("[object Array]"==s){if(r=t.length,a=r==e.length)for(;r--&&(a=j(t[r],e[r],n,i)););}else{var l=t.constructor,u=e.constructor;if(l!==u&&!(C.isFunction(l)&&l instanceof l&&C.isFunction(u)&&u instanceof u))return!1;for(var h in t)if(C.has(t,h)&&(r++,!(a=C.has(e,h)&&j(t[h],e[h],n,i))))break;if(a){for(h in e)if(C.has(e,h)&&!r--)break;a=!r}}return n.pop(),i.pop(),a};C.isEqual=function(t,e){return j(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=w||function(t){return"[object Array]"==c.call(t)},C.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){C["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(t){return"function"==typeof t}),C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return u.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.times=function(t,e,n){for(var i=Array(t),s=0;t>s;s++)i[s]=e.call(n,s);return i},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=C.invert(P.escape);var D={escape:new RegExp("["+C.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(P.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(t){C[t]=function(e){return null==e?"":(""+e).replace(D[t],function(e){return P[t][e]})}}),C.result=function(t,e){if(null==t)return null;var n=t[e];return C.isFunction(n)?n.call(t):n},C.mixin=function(t){k(C.functions(t),function(e){var n=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return r.apply(t,arguments),H.call(this,n.apply(C,t))}})};var O=0;C.uniqueId=function(t){var e=++O+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(t,e,n){var i;n=C.defaults({},n,C.templateSettings);var s=new RegExp([(n.escape||A).source,(n.interpolate||A).source,(n.evaluate||A).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(s,function(e,n,i,s,a){return r+=t.slice(o,a).replace(L,function(t){return"\\"+M[t]}),n&&(r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(r+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),s&&(r+="';\n"+s+"\n__p+='"),o=a+e.length,e}),r+="';\n",n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{i=new Function(n.variable||"obj","_",r)
}catch(a){throw a.source=r,a}if(e)return i(e,C);var l=function(t){return i.call(this,t,C)};return l.source="function("+(n.variable||"obj")+"){\n"+r+"}",l},C.chain=function(t){return C(t).chain()};var H=function(t){return this._chain?C(t).chain():t};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];C.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],H.call(this,n)}}),k(["concat","join","slice"],function(t){var e=i[t];C.prototype[t]=function(){return H.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(t){return function(){var e;return e||t._}}(this)),function(t){return t.extend(t.fn,{backboneLink:function(e){return t(this).find(":input").each(function(){var n,i;return n=t(this),i=n.attr("name"),e.bind("change:"+i,function(){return val=e.get(i),!n.is("input[type='checkbox']")||1!=val&&0!=val||n.prop("checked",val),n.val(val)}),t(this).bind("change",function(){var i;return n=t(this),i={},i[n.attr("name")]=n.is("input[type='checkbox']")?n.prop("checked"):n.val(),e.set(i)})})}})}(jQuery),define("backbone_datalink",["jquery"],function(t){return function(){var e;return e||t.jQuery.fn.backboneLink}}(this)),function(){var t,e=this,n=e.Backbone,i=[],s=i.push,o=i.slice,r=i.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.0.0";var a=e._;a||"undefined"==typeof require||(a=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var l=t.Events={on:function(t,e,n){if(!u(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var i=this,s=a.once(function(){i.off(t,s),e.apply(this,arguments)});return s._callback=e,this.on(t,s,n)},off:function(t,e,n){var i,s,o,r,l,c,h,d;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(r=t?[t]:a.keys(this._events),l=0,c=r.length;c>l;l++)if(t=r[l],o=this._events[t]){if(this._events[t]=i=[],e||n)for(h=0,d=o.length;d>h;h++)s=o[h],(e&&e!==s.callback&&e!==s.callback._callback||n&&n!==s.context)&&i.push(s);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&h(n,e),i&&h(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var s=!e&&!n;"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t);for(var o in i)i[o].off(e,n,this),s&&delete this._listeners[o];return this}},c=/\s+/,u=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var s in n)t[e].apply(t,[s,n[s]].concat(i));return!1}if(c.test(n)){for(var o=n.split(c),r=0,a=o.length;a>r;r++)t[e].apply(t,[o[r]].concat(i));return!1}return!0},h=function(t,e){var n,i=-1,s=t.length,o=e[0],r=e[1],a=e[2];switch(e.length){case 0:for(;++i<s;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<s;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<s;)(n=t[i]).callback.call(n.ctx,o,r);return;case 3:for(;++i<s;)(n=t[i]).callback.call(n.ctx,o,r,a);return;default:for(;++i<s;)(n=t[i]).callback.apply(n.ctx,e)}},d={listenTo:"on",listenToOnce:"once"};a.each(d,function(t,e){l[e]=function(e,n,i){var s=this._listeners||(this._listeners={}),o=e._listenerId||(e._listenerId=a.uniqueId("l"));return s[o]=e,"object"==typeof n&&(i=this),e[t](n,i,this),this}}),l.bind=l.on,l.unbind=l.off,a.extend(t,l);var p=t.Model=function(t,e){var n,i=t||{};e||(e={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(e,f)),e.parse&&(i=this.parse(i,e)||{}),(n=a.result(this,"defaults"))&&(i=a.defaults({},i,n)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];a.extend(p.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return a.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,s,o,r,l,c,u,h;if(null==t)return this;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;o=n.unset,l=n.silent,r=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)e=s[i],a.isEqual(h[i],e)||r.push(i),a.isEqual(u[i],e)?delete this.changed[i]:this.changed[i]=e,o?delete h[i]:h[i]=e;if(!l){r.length&&(this._pending=!0);for(var d=0,p=r.length;p>d;d++)this.trigger("change:"+r[d],this,h[r[d]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,a.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,a.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!a.isEmpty(this.changed):a.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?a.clone(this.changed):!1;var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in t)a.isEqual(i[s],e=t[s])||((n||(n={}))[s]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(n&&n(e,i,t),e.trigger("sync",e,i,t),void 0):!1},H(this,t),this.sync("read",this,t)},save:function(t,e,n){var i,s,o,r=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=a.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=a.extend({},r,i)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(t){l.attributes=r;var e=l.parse(t,n);return n.wait&&(e=a.extend(i||{},e)),a.isObject(e)&&!l.set(e,n)?!1:(c&&c(l,t,n),l.trigger("sync",l,t,n),void 0)},H(this,n),s=this.isNew()?"create":n.patch?"patch":"update","patch"===s&&(n.attrs=i),o=this.sync(s,this,n),i&&n.wait&&(this.attributes=r),o},destroy:function(t){t=t?a.clone(t):{};var e=this,n=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(s){(t.wait||e.isNew())&&i(),n&&n(e,s,t),e.isNew()||e.trigger("sync",e,s,t)},this.isNew())return t.success(),!1;H(this,t);var s=this.sync("delete",this,t);return t.wait||i(),s},url:function(){var t=a.result(this,"urlRoot")||a.result(this.collection,"url")||L();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},a.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=a.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,a.extend(e||{},{validationError:n})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];a.each(m,function(t){p.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),a[t].apply(a,e)}});var g=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,a.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};a.extend(g.prototype,l,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,a.defaults(e||{},y))},remove:function(t,e){t=a.isArray(t)?t.slice():[t],e||(e={});var n,i,s,o;for(n=0,i=t.length;i>n;n++)o=this.get(t[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,e.silent||(e.index=s,o.trigger("remove",o,this,e)),this._removeReference(o));return this},set:function(t,e){e=a.defaults(e||{},v),e.parse&&(t=this.parse(t,e)),a.isArray(t)||(t=t?[t]:[]);var n,i,o,l,c,u=e.at,h=this.comparator&&null==u&&e.sort!==!1,d=a.isString(this.comparator)?this.comparator:null,p=[],f=[],m={};for(n=0,i=t.length;i>n;n++)(o=this._prepareModel(t[n],e))&&((l=this.get(o))?(e.remove&&(m[l.cid]=!0),e.merge&&(l.set(o.attributes,e),h&&!c&&l.hasChanged(d)&&(c=!0))):e.add&&(p.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(e.remove){for(n=0,i=this.length;i>n;++n)m[(o=this.models[n]).cid]||f.push(o);f.length&&this.remove(f,e)}if(p.length&&(h&&(c=!0),this.length+=p.length,null!=u?r.apply(this.models,[u,0].concat(p)):s.apply(this.models,p)),c&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=p.length;i>n;n++)(o=p[n]).trigger("add",o,this,e);return c&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return a.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var i=a.isFunction(e)?e:function(t){return t.get(e)};return a.sortedIndex(this.models,t,i,n)},pluck:function(t){return a.invoke(this.models,"get",t)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,i=e.success;return e.success=function(s){e.wait&&n.add(t,e),i&&i(t,s,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(b,function(t){g.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),a[t].apply(a,e)}});var w=["groupBy","countBy","sortBy"];a.each(w,function(t){g.prototype[t]=function(e,n){var i=a.isFunction(e)?e:function(t){return t.get(e)};return a[t](this.models,i,n)}});var x=t.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];a.extend(x.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=a.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(a.isFunction(n)||(n=this[t[e]]),n){var i=e.match(_),s=i[1],o=i[2];n=a.bind(n,this),s+=".delegateEvents"+this.cid,""===o?this.$el.on(s,n):this.$el.on(s,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=a.extend({},a.result(this,"options"),t)),a.extend(this,a.pick(t,C)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className"));var n=t.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,i){var s=k[e];a.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(i.url||(o.url=a.result(n,"url")||L()),null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",i.emulateJSON&&(o.data._method=s);var r=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",s),r?r.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=t.ajax(a.extend(o,i));return n.trigger("request",n,l,i),l};var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var T=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,E=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(T.prototype,l,{initialize:function(){},route:function(e,n,i){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var s=this;return t.history.route(e,function(o){var r=s._extractParameters(e,o);i&&i.apply(s,r),s.trigger.apply(s,["route:"+n].concat(r)),s.trigger("route",n,r),t.history.trigger("route",s,n,r)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var t,e=a.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(N,"\\$&").replace(S,"(?:$1)?").replace($,function(t,e){return e?t:"([^/]+)"}).replace(E,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return a.map(n,function(t){return t?decodeURIComponent(t):null})}});var j=t.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,O=/msie [\w.]+/,A=/\/$/;j.started=!1,a.extend(j.prototype,l,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(A,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(P,"")},start:function(e){if(j.started)throw new Error("Backbone.history has already been started");j.started=!0,this.options=a.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,s=O.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(D,"/"),s&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,r=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&r&&o.hash&&(this.fragment=this.getHash().replace(P,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),j.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!j.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),t.history=new j;var M=function(t,e){var n,i=this;n=t&&a.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},a.extend(n,i,e);var s=function(){this.constructor=n};return s.prototype=i.prototype,n.prototype=new s,t&&a.extend(n.prototype,t),n.__super__=i.prototype,n};p.extend=g.extend=T.extend=x.extend=j.extend=M;var L=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}}}.call(this),define("backbone",["underscore","jquery","backbone_datalink"],function(t){return function(){var e;return e||t.Backbone}}(this)),define("text",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),define("text!templates/posts/search.html",[],function(){return'<select class=\'city-select\' name=\'city\'>\n  <option></option>\n  <option value="1">Vilnius</option>\n  <option value="2">Kaunas</option>\n  <option value="3">Klaipėda</option>\n  <option value="4">Šiauliai</option>\n  <option value="5">Panevėžys</option>\n  <option value="6">Akmenė</option>\n  <option value="7">Alytus</option>\n  <option value="8">Anykščiai</option>\n  <option value="9">Ariogala</option>\n  <option value="10">Birštonas</option>\n  <option value="11">Biržai</option>\n  <option value="12">Druskininkai</option>\n  <option value="13">Elektrėnai</option>\n  <option value="14">Gargždai</option>\n  <option value="15">Ignalina</option>\n  <option value="16">Jonava</option>\n  <option value="17">Joniškis</option>\n  <option value="18">Juodkrantė</option>\n  <option value="19">Jurbarkas</option>\n  <option value="20">Kaišiadorys</option>\n  <option value="21">Kalvarija</option>\n  <option value="22">Karklė</option>\n  <option value="23">Kazlų Rūda</option>\n  <option value="24">Kėdainiai</option>\n  <option value="25">Kelmė</option>\n  <option value="26">Kretinga</option>\n  <option value="27">Kupiškis</option>\n  <option value="28">Kuršėnai</option>\n  <option value="29">Lazdijai</option>\n  <option value="30">Marijampolė</option>\n  <option value="31">Mažeikiai</option>\n  <option value="32">Melnragė</option>\n  <option value="33">Molėtai</option>\n  <option value="34">Neringa</option>\n  <option value="35">Nida</option>\n  <option value="36">Pagėgiai</option>\n  <option value="37">Pakruojis</option>\n  <option value="38">Palanga</option>\n  <option value="39">Pasvalys</option>\n  <option value="40">Plungė</option>\n  <option value="41">Prienai</option>\n  <option value="42">Radviliškis</option>\n  <option value="43">Raseiniai</option>\n  <option value="44">Rietavas</option>\n  <option value="45">Rokiškis</option>\n  <option value="46">Šakiai</option>\n  <option value="47">Šalčininkai</option>\n  <option value="48">Šilalė</option>\n  <option value="49">Šilutė</option>\n  <option value="50">Širvintos</option>\n  <option value="51">Skaudvilė</option>\n  <option value="52">Skuodas</option>\n  <option value="53">Švenčionys</option>\n  <option value="54">Šventoji</option>\n  <option value="55">Tauragė</option>\n  <option value="56">Telšiai</option>\n  <option value="57">Trakai</option>\n  <option value="58">Ukmergė</option>\n  <option value="59">Utena</option>\n  <option value="60">Varėna</option>\n  <option value="61">Vievis</option>\n  <option value="62">Vilkaviškis</option>\n  <option value="63">Visaginas</option>\n  <option value="64">Zarasai</option>\n</select>\n'}),!function(t){t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){i.trigger("closed").remove()}var i,s=t(this),o=s.attr("data-target");o||(o=s.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=t(o),e&&e.preventDefault(),i.length||(i=s.hasClass("alert")?s:s.parent()),i.trigger(e=t.Event("close")),e.isDefaultPrevented()||(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.on(t.support.transition.end,n):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),s=i.data("alert");s||i.data("alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),s=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[s]()),n[s](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),s=i.data("button"),o="object"==typeof n&&n;s||i.data("button",s=new e(this,o)),"toggle"==n?s.toggle():n&&s.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),i=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,n){var i,s=this.$element.find(".item.active"),o=n||s[e](),r=this.interval,a="next"==e?"left":"right",l="next"==e?"first":"last",c=this;if(this.sliding=!0,r&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=t.Event("slide",{relatedTarget:o[0],direction:a}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,s.addClass(a),o.addClass(a),this.$element.one(t.support.transition.end,function(){o.removeClass([e,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;s.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return r&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),s=i.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),r="string"==typeof n?n:o.slide;s||i.data("carousel",s=new e(this,o)),"number"==typeof n?s.to(n):r?s[r]():o.interval&&s.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i,s=t(this),o=t(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=t.extend({},o.data(),s.data());o.carousel(r),(i=s.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),e.preventDefault()})}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,i,s;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(s=i.data("collapse"),s&&s.transitioning)return;i.collapse("hide"),s||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,i){var s=this,o=function(){"show"==n.type&&s.reset(),s.transitioning=0,s.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),s=i.data("collapse"),o=t.extend({},t.fn.collapse.defaults,i.data(),"object"==typeof n&&n);s||i.data("collapse",s=new e(this,o)),"string"==typeof n&&s[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),s=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(s).data("collapse")?"toggle":i.data();i[t(s).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(s).collapse(o)})}(window.jQuery),!function(t){function e(){t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,i=e.attr("data-target");return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&t(i),n&&n.length||(n=e.parent()),n}var i="[data-toggle=dropdown]",s=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};s.prototype={constructor:s,toggle:function(){var i,s,o=t(this);if(!o.is(".disabled, :disabled"))return i=n(o),s=i.hasClass("open"),e(),s||i.toggleClass("open"),o.focus(),!1},keydown:function(e){var s,o,r,a,l;if(/(38|40|27)/.test(e.keyCode)&&(s=t(this),e.preventDefault(),e.stopPropagation(),!s.is(".disabled, :disabled"))){if(r=n(s),a=r.hasClass("open"),!a||a&&27==e.keyCode)return 27==e.which&&r.find(i).focus(),s.click();o=t("[role=menu] li:not(.divider):visible a",r),o.length&&(l=o.index(o.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown-menu",function(t){t.stopPropagation()
}).on("click.dropdown.data-api",i,s.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",s.prototype.keydown)}(window.jQuery),!function(t){var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var i=t(this),s=i.data("modal"),o=t.extend({},t.fn.modal.defaults,i.data(),"object"==typeof n&&n);s||i.data("modal",s=new e(this,o)),"string"==typeof n?s[n]():o.show&&s.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),s=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},s.data(),n.data());e.preventDefault(),s.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),!function(t){var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var s,o,r,a,l;for(this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,r=this.options.trigger.split(" "),l=r.length;l--;)a=r[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=a&&(s="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,i=t.fn[this.type].defaults,s={};return this._options&&t.each(this._options,function(t,e){i[t]!=e&&(s[t]=e)},this),n=t(e.currentTarget)[this.type](s).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var e,n,i,s,o,r,a=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,s=e[0].offsetHeight,o){case"bottom":r={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":r={top:n.top-s,left:n.left+n.width/2-i/2};break;case"left":r={top:n.top+n.height/2-s/2,left:n.left-i};break;case"right":r={top:n.top+n.height/2-s/2,left:n.left+n.width}}this.applyPlacement(r,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,s,o,r=this.tip(),a=r[0].offsetWidth,l=r[0].offsetHeight;r.offset(t).addClass(e).addClass("in"),n=r[0].offsetWidth,i=r[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,o=!0),"bottom"==e||"top"==e?(s=0,t.left<0&&(s=-2*t.left,t.left=0,r.offset(t),n=r[0].offsetWidth,i=r[0].offsetHeight),this.replaceArrow(s-a+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&r.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),i=t.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),s=i.data("tooltip"),o="object"==typeof n&&n;s||i.data("tooltip",s=new e(this,o)),"string"==typeof n&&s[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),!function(t){var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),s=i.data("popover"),o="object"==typeof n&&n;s||i.data("popover",s=new e(this,o)),"string"==typeof n&&s[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),!function(t){function e(e,n){var i,s=t.proxy(this.process,this),o=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",s),this.selector=(this.options.target||(i=t(e).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,n=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),s=/^#\w/.test(i)&&t(i);return s&&s.length&&[[s.position().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),s=this.offsets,o=this.targets,r=this.activeTarget;if(e>=i)return r!=(t=o.last()[0])&&this.activate(t);for(t=s.length;t--;)r!=o[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(o[t])},activate:function(e){var n,i;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),s=i.data("scrollspy"),o="object"==typeof n&&n;s||i.data("scrollspy",s=new e(this,o)),"string"==typeof n&&s[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,i,s=this.element,o=s.closest("ul:not(.dropdown-menu)"),r=s.attr("data-target");r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),s.parent("li").hasClass("active")||(e=o.find(".active:last a")[0],i=t.Event("show",{relatedTarget:e}),s.trigger(i),i.isDefaultPrevented()||(n=t(r),this.activate(s.parent("li"),o),this.activate(n,n.parent(),function(){s.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,i){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),r=i&&t.support.transition&&o.hasClass("fade");r?o.one(t.support.transition.end,s):s(),o.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),s=i.data("tab");s||i.data("tab",s=new e(this)),"string"==typeof n&&s[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],s=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):s.push(e):n.push(e);return n.concat(i,s)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,i){return e=t(n.options.item).attr("data-value",i),e.find("a").html(n.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),n=e.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var i=t(this),s=i.data("typeahead"),o="object"==typeof n&&n;s||i.data("typeahead",s=new e(this,o)),"string"==typeof n&&s[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),!function(t){var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,n=t(document).height(),i=this.$window.scrollTop(),s=this.$element.offset(),o=this.options.offset,r=o.bottom,a=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(r=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof r&&(r=o.bottom()),e=null!=this.unpin&&i+this.unpin<=s.top?!1:null!=r&&s.top+this.$element.height()>=n-r?"bottom":null!=a&&a>=i?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?s.top-i:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),s=i.data("affix"),o="object"==typeof n&&n;s||i.data("affix",s=new e(this,o)),"string"==typeof n&&s[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),define("bootstrap",function(){}),function(t){"undefined"==typeof t.fn.each2&&t.fn.extend({each2:function(e){for(var n=t([0]),i=-1,s=this.length;++i<s&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(t,e){function n(t,e){for(var n=0,s=e.length;s>n;n+=1)if(i(t,e[n]))return n;return-1}function i(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function s(e,n){var i,s,o;if(null===e||e.length<1)return[];for(i=e.split(n),s=0,o=i.length;o>s;s+=1)i[s]=t.trim(i[s]);return i}function o(t){return t.outerWidth(!1)-t.width()}function r(n){var i="keyup-change-value";n.bind("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.bind("keyup",function(){var s=t.data(n,i);s!==e&&n.val()!==s&&(t.removeData(n,i),n.trigger("keyup-change"))})}function a(n){n.bind("mousemove",function(n){var i=P;(i===e||i.x!==n.pageX||i.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function l(t,n,i){i=i||e;var s;return function(){var e=arguments;window.clearTimeout(s),s=window.setTimeout(function(){n.apply(i,e)},t)}}function c(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function u(t,e){var i=l(t,function(t){e.trigger("scroll-debounced",t)});e.bind("scroll",function(t){n(t.target,e.get())>=0&&i(t)})}function h(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],i=t.val().length;t.focus(),t.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function d(t){t.preventDefault(),t.stopPropagation()}function p(t){t.preventDefault(),t.stopImmediatePropagation()}function f(e){if(!j){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);j=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),j.attr("class","select2-sizer"),t("body").append(j)}return j.text(e.val()),j.width()}function m(e,n,i){var s,o,r=[];s=e.attr("class"),s&&(s=""+s,t(s.split(" ")).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),s=n.attr("class"),s&&(s=""+s,t(s.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&r.push(this))})),e.attr("class",r.join(" "))}function g(t,e,n,i){var s=t.toUpperCase().indexOf(e.toUpperCase()),o=e.length;return 0>s?(n.push(i(t)),void 0):(n.push(i(t.substring(0,s))),n.push("<span class='select2-match'>"),n.push(i(t.substring(s,s+o))),n.push("</span>"),n.push(i(t.substring(s+o,t.length))),void 0)}function v(e){var n,i=0,s=null,o=e.quietMillis||100,r=e.url,a=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){i+=1;var n=i,o=e.data,c=r,u=e.transport||t.ajax,h=e.type||"GET",d={};o=o?o.call(a,l.term,l.page,l.context):null,c="function"==typeof c?c.call(a,l.term,l.page,l.context):c,null!==s&&s.abort(),e.params&&(t.isFunction(e.params)?t.extend(d,e.params.call(a)):t.extend(d,e.params)),t.extend(d,{url:c,dataType:e.dataType,data:o,type:h,cache:!1,success:function(t){if(!(i>n)){var s=e.results(t,l.page);l.callback(s)}}}),s=u.call(a,d)},o)}}function y(e){var n,i,s=e,o=function(t){return""+t.text};t.isArray(s)&&(i=s,s={results:i}),t.isFunction(s)===!1&&(i=s,s=function(){return i});var r=s();return r.text&&(o=r.text,t.isFunction(o)||(n=s.text,o=function(t){return t[n]})),function(e){var n,i=e.term,r={results:[]};return""===i?(e.callback(s()),void 0):(n=function(s,r){var a,l;if(s=s[0],s.children){a={};for(l in s)s.hasOwnProperty(l)&&(a[l]=s[l]);a.children=[],t(s.children).each2(function(t,e){n(e,a.children)}),(a.children.length||e.matcher(i,o(a),s))&&r.push(a)}else e.matcher(i,o(s),s)&&r.push(s)},t(s().results).each2(function(t,e){n(e,r.results)}),e.callback(r),void 0)}}function b(n){var i=t.isFunction(n);return function(s){var o=s.term,r={results:[]};t(i?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===o||s.matcher(o,n))&&r.results.push(t?this:{id:this,text:this})}),s.callback(r)}}function w(e){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error("formatterName must be a function or a falsy value")}function x(e){return t.isFunction(e)?e():e}function _(e){var n=0;return t.each(e,function(t,e){e.children?n+=_(e.children):n++}),n}function C(t,n,s,o){var r,a,l,c,u,h=t,d=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return e;for(;;){for(a=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],a=t.indexOf(u),!(a>=0));l++);if(0>a)break;if(r=t.substring(0,a),t=t.substring(a+u.length),r.length>0&&(r=o.createSearchChoice(r,n),r!==e&&null!==r&&o.id(r)!==e&&null!==o.id(r))){for(d=!1,l=0,c=n.length;c>l;l++)if(i(o.id(r),o.id(n[l]))){d=!0;break}d||s(r)}}return h!==t?t:void 0}function k(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(window.Select2===e){var T,S,$,E,N,j,P,D;T={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case T.LEFT:case T.RIGHT:case T.UP:case T.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case T.SHIFT:case T.CTRL:case T.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},D=t(document),N=function(){var t=1;return function(){return t++}}(),D.bind("mousemove",function(t){P={x:t.pageX,y:t.pageY}}),S=k(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,s,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+N()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return n.element.closest("body")}),m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(x(n.containerCss)),this.container.addClass(x(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){t(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(x(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=i=this.container.find(o),this.search=s=this.container.find("input.select2-input"),s.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),a(this.results),this.dropdown.delegate(o,"mousemove-filtered touchstart touchmove touchend",this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.delegate(o,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&i.mousewheel(function(t,e,n,s){var o=i.scrollTop();s>0&&0>=o-s?(i.scrollTop(0),d(t)):0>s&&i.get(0).scrollHeight-i.scrollTop()+s<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),d(t))}),r(s),s.bind("keyup-change input paste",this.bind(this.updateResults)),s.bind("focus",function(){s.addClass("select2-focused")}),s.bind("blur",function(){s.removeClass("select2-focused")}),this.dropdown.delegate(o,"mouseup",this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.bind("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),t!==e&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({tabIndex:this.elementTabIndex}).show())},prepareOpts:function(n){var o,r,a,l;if(o=n.element,"select"===o.get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,s,o){var r,a=this.opts.id,l=this;r=function(i,s,c){var u,h,d,p,f,m,g,v,y,b;for(i=n.sortResults(i,s,o),u=0,h=i.length;h>u;u+=1)d=i[u],f=d.disabled===!0,p=!f&&a(d)!==e,m=d.children&&d.children.length>0,g=t("<li></li>"),g.addClass("select2-results-dept-"+c),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(l.opts.formatResultCssClass(d)),v=t(document.createElement("div")),v.addClass("select2-result-label"),b=n.formatResult(d,v,o,l.opts.escapeMarkup),b!==e&&v.html(b),g.append(v),m&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),r(d.children,y,c+1),g.append(y)),g.data("select2-data",d),s.append(g)},r(s,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(a=n.id,n.id=function(t){return t[a]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(n){var s,r,a,l={results:[],more:!1},c=n.term;a=function(t,e){var s;t.is("option")?n.matcher(c,t.text(),t)&&e.push({id:t.attr("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:i(t.attr("disabled"),"disabled")}):t.is("optgroup")&&(s={text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")},t.children().each2(function(t,e){a(e,s.children)}),s.children.length>0&&e.push(s))},s=o.children(),this.getPlaceholder()!==e&&s.length>0&&(r=s[0],""===t(r).text()&&(s=s.not(r))),s.each2(function(t,e){a(e,l.results)}),n.callback(l)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=v.call(n.element,n.ajax)):"data"in n?n.query=y(n.data):"tags"in n&&(n.query=b(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(t){return{id:t,text:t}}),n.initSelection===e&&(n.initSelection=function(e,o){var r=[];t(s(e.val(),n.separator)).each(function(){var e=this,s=this,o=n.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return i(this.id,e)?(s=this.text,!1):void 0}),r.push({id:e,text:s})}),o(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var t,e=this.opts.element;e.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t,e;t="disabled"!==this.opts.element.attr("disabled"),e="readonly"===this.opts.element.attr("readonly"),t=t&&!e,this.enabled!==t&&(t?this.enable():this.disable()),m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(x(this.opts.containerCssClass)),m(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(this.opts.dropdownCssClass))}),e.bind("propertychange.select2 DOMAttrModified.select2",t),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(e){e.forEach(t)}),this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i,s=this.container.offset(),o=this.container.outerHeight(!1),r=this.container.outerWidth(!1),a=this.dropdown.outerHeight(!1),l=t(window).scrollLeft()+t(window).width(),c=t(window).scrollTop()+t(window).height(),u=s.top+o,h=s.left,d=c>=u+a,p=s.top-a>=this.body().scrollTop(),f=this.dropdown.outerWidth(!1),m=l>=h+f,g=this.dropdown.hasClass("select2-drop-above");
"static"!==this.body().css("position")&&(e=this.body().offset(),u-=e.top,h-=e.left),g?(n=!0,!p&&d&&(n=!1)):(n=!1,!d&&p&&(n=!0)),m||(h=s.left+r-f),n?(u=s.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),i=t.extend({top:u,left:h,width:r},x(this.opts.dropdownCss)),this.dropdown.css(i)},shouldOpen:function(){var e;return this.opened()?!1:(e=t.Event("opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var n,i=this.containerId,s="scroll."+i,o="resize."+i,r="orientationchange."+i;this.clearDropdownAlignmentPreference(),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),n=t("#select2-drop-mask"),0==n.length&&(n=t(document.createElement("div")),n.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.bind("mousedown touchstart",function(){var e,n=t("#select2-drop");n.length>0&&(e=n.data("select2"),e.opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.css(e()),n.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var a=this;this.container.parents().add(window).each(function(){t(this).bind(o+" "+s+" "+r,function(){t("#select2-drop-mask").css(e()),a.positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,i="resize."+e,s="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).unbind(n).unbind(i).unbind(s)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return x(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,n,i,s,o,r,a,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return l.scrollTop(0),void 0;e=this.findHighlightableChoices(),i=t(e[n]),s=i.offset().top+i.outerHeight(!0),n===e.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(s=a.offset().top+a.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),s>o&&l.scrollTop(l.scrollTop()+(s-o)),r=i.offset().top-l.offset().top,0>r&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)"),this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=e;var s=t(n[i]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var i,s,o=this.findHighlightableChoices();return 0===arguments.length?n(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),0>e&&(e=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),i=t(o[e]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),s=i.data("select2-data"),s&&this.opts.element.trigger({type:"highlight",val:this.id(s),choice:s}),void 0)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,s=this,o=this.search.val(),r=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:r,matcher:this.opts.matcher,callback:this.bind(function(t){s.opened()&&(s.opts.populateResults.call(this,e,t.results,{term:o,page:i,context:r}),s.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text(s.opts.formatLoadMore(i+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):n.remove(),s.positionDropdown(),s.resultsPage=i,s.context=t.context)})})))},tokenize:function(){},updateResults:function(n){function s(){c.scrollTop(0),l.removeClass("select2-active"),h.positionDropdown()}function o(t){c.html(t),s()}var r,a,l=this.search,c=this.results,u=this.opts,h=this,d=l.val(),p=t.data(this.container,"select2-last-term");if((n===!0||!p||!i(d,p))&&(t.data(this.container,"select2-last-term",d),n===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(r=this.data(),t.isArray(r)&&r.length>=f&&w(u.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(f)+"</li>"),void 0;if(l.val().length<u.minimumInputLength)return w(u.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"):o(""),void 0;if(u.maximumInputLength&&l.val().length>u.maximumInputLength)return w(u.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>"):o(""),void 0;u.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+u.formatSearching()+"</li>"),l.addClass("select2-active"),a=this.tokenize(),a!=e&&null!=a&&l.val(a),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(r){var a;return this.opened()?(this.context=r.context===e?null:r.context,this.opts.createSearchChoice&&""!==l.val()&&(a=this.opts.createSearchChoice.call(null,l.val(),r.results),a!==e&&null!==a&&h.id(a)!==e&&null!==h.id(a)&&0===t(r.results).filter(function(){return i(h.id(this),h.id(a))}).length&&r.results.unshift(a)),0===r.results.length&&w(u.formatNoMatches,"formatNoMatches")?(o("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),void 0):(c.empty(),h.opts.populateResults.call(this,c,r.results,{term:l.val(),page:this.resultsPage,context:null}),r.more===!0&&w(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(r,n),s(),this.opts.element.trigger({type:"loaded",data:r}),void 0)):(this.search.removeClass("select2-active"),void 0)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(t){var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i&&(this.highlight(e),this.onSelect(i,t))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,s,o,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),o=0,r=i.length;r>o;o+=1)if(s=i[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==s&&s.length>=1)return s[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),$=k(S,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop' style='display:none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.focusser.attr("disabled","disabled"))},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.focusser.removeAttr("disabled"))},opening:function(){this.parent.opening.apply(this,arguments),this.focusser.attr("disabled","disabled"),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),h(this.focusser))},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var e,n=this.container,i=this.dropdown,s=!1;this.showSearch(this.opts.minimumResultsForSearch>=0),this.selection=e=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+N()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===T.PAGE_UP||t.which===T.PAGE_DOWN)return d(t),void 0;switch(t.which){case T.UP:case T.DOWN:return this.moveHighlight(t.which===T.UP?-1:1),d(t),void 0;case T.TAB:case T.ENTER:return this.selectHighlighted(),d(t),void 0;case T.ESC:return this.cancel(t),d(t),void 0}}})),this.search.bind("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.bind("keydown",this.bind(function(t){return!this.enabled||t.which===T.TAB||T.isControl(t)||T.isFunctionKey(t)||t.which===T.ESC?void 0:this.opts.openOnEnter===!1&&t.which===T.ENTER?(d(t),void 0):t.which==T.DOWN||t.which==T.UP||t.which==T.ENTER&&this.opts.openOnEnter?(this.open(),d(t),void 0):t.which==T.DELETE||t.which==T.BACKSPACE?(this.opts.allowClear&&this.clear(),d(t),void 0):void 0})),r(this.focusser),this.focusser.bind("keyup-change input",this.bind(function(t){this.opened()||(this.open(),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.focusser.val(""),d(t))})),e.delegate("abbr","mousedown",this.bind(function(t){this.enabled&&(this.clear(),p(t),this.close(),this.selection.focus())})),e.bind("mousedown",this.bind(function(t){s=!0,this.opened()?this.close():this.enabled&&this.open(),d(t),s=!1})),i.bind("mousedown",this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(t){d(t)})),this.focusser.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})).bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active")})),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");e&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e})))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(e,n){var i=e.find(":selected");t.isFunction(n)&&n({id:i.attr("value"),text:i.text(),element:i})}:"data"in e&&(e.initSelection=e.initSelection||function(n,s){var o=n.val(),r=null;e.query({matcher:function(t,n,s){var a=i(o,e.id(s));return a&&(r=s),a},callback:t.isFunction(s)?function(){s(r)}:t.noop})}),e},getPlaceholder:function(){return this.select&&""!==this.select.find("option").first().text()?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(""===this.opts.element.val()&&t!==e){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(t,e,n){var s=0,o=this,r=!0;if(this.findHighlightableChoices().each2(function(t,e){return i(o.id(e.data("select2-data")),o.opts.element.val())?(s=t,!1):void 0}),n!==!1&&this.highlight(s),e===!0){var a=this.opts.minimumResultsForSearch;r=0>a?!1:_(t.results)>=a,this.showSearch(r)}},showSearch:function(e){this.showSearchInput=e,this.dropdown.find(".select2-search")[e?"removeClass":"addClass"]("select2-search-hidden"),t(this.dropdown,this.container)[e?"addClass":"removeClass"]("select2-with-searchbox")},onSelect:function(t,e){var n=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),i(n,this.id(t))||this.triggerChange()},updateSelection:function(t){var n,i=this.selection.find("span");this.selection.data("select2-data",t),i.empty(),n=this.opts.formatSelection(t,i),n!==e&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.selection.find("abbr").show()},val:function(){var t,n=!1,i=null,s=this;if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return i={id:e.attr("value"),text:e.text(),element:e.get(0)},!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange();else{if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");if(!t&&0!==t)return this.clear(n),n&&this.triggerChange(),void 0;this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){s.opts.element.val(t?s.id(t):""),s.updateSelection(t),s.setPlaceholder(),n&&s.triggerChange()})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(t&&""!==t?(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)):this.clear(),void 0)}}),E=k(S,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find(":selected").each2(function(t,e){n.push({id:e.attr("value"),text:e.text(),element:e[0]})}),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(n,o){var r=s(n.val(),e.separator),a=[];e.query({matcher:function(n,s,o){var l=t.grep(r,function(t){return i(t,e.id(o))}).length;return l&&a.push(o),l},callback:t.isFunction(o)?function(){o(a)}:t.noop})}),e},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n),this.search.attr("id","s2id_autogen"+N()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.bind("input paste",this.bind(function(){this.enabled&&(this.opened()||this.open())})),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===T.BACKSPACE&&""===this.search.val()){this.close();var n,i=e.find(".select2-search-choice-focus");if(i.length>0)return this.unselect(i.first()),this.search.width(10),d(t),void 0;n=e.find(".select2-search-choice:not(.select2-locked)"),n.length>0&&n.last().addClass("select2-search-choice-focus")}else e.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(t.which){case T.UP:case T.DOWN:return this.moveHighlight(t.which===T.UP?-1:1),d(t),void 0;case T.ENTER:case T.TAB:return this.selectHighlighted(),d(t),void 0;case T.ESC:return this.cancel(t),d(t),void 0}if(t.which!==T.TAB&&!T.isControl(t)&&!T.isFunctionKey(t)&&t.which!==T.BACKSPACE&&t.which!==T.ESC){if(t.which===T.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===T.PAGE_UP||t.which===T.PAGE_DOWN)&&d(t),t.which===T.ENTER&&d(t)}}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),t.stopImmediatePropagation()})),this.container.delegate(n,"mousedown",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.delegate(n,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(this.getMaxSearchWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],s=[],o=this;t(e).each(function(){n(o.id(this),i)<0&&(i.push(o.id(this)),s.push(this))}),e=s,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,s=!n.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=t("<li class='select2-search-choice select2-locked'><div></div></li>"),a=s?o:r,l=this.id(n),c=this.getVal();i=this.opts.formatSelection(n,a.find("div")),i!=e&&a.find("div").replaceWith("<div>"+this.opts.escapeMarkup(i)+"</div>"),s&&a.find(".select2-search-choice-close").bind("mousedown",d).bind("click dblclick",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),d(e))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",n),a.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(t){var e,i,s=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(i=n(this.id(e),s),i>=0&&(s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))},postprocessResults:function(){var t=this.getVal(),e=this.results.find(".select2-result"),i=this.results.find(".select2-result-with-children"),s=this;e.each2(function(e,i){var o=s.id(i.data("select2-data"));n(o,t)>=0&&(i.addClass("select2-selected"),i.find(".select2-result-selectable").addClass("select2-selected"))}),i.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&s.highlight(0)},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var t,e,n,i,s,r=o(this.search);t=f(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,s=n-(e-i)-r,t>s&&(s=n-r),40>s&&(s=n-r),0>=s&&(s=t),this.search.width(s)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},val:function(){var n,i=!1,s=this;if(0===arguments.length)return this.getVal();if(n=arguments[0],arguments.length>1&&(i=arguments[1]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange(),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange();else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t(e).map(s.id);s.setVal(n),s.updateSelection(e),s.clearSearch(),i&&s.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e){var n,i=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(e||(e=[]),n=t.map(e,function(t){return i.opts.id(t)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),void 0)}}),t.fn.select2=function(){var i,s,o,r,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===a.length||"object"==typeof a[0])i=0===a.length?{}:t.extend({},a[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.attr("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),s=r?new E:new $,s.init(i);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(n(a[0],l)<0)throw"Unknown method: "+a[0];if(o=e,s=t(this).data("select2"),s===e)return;if(o="container"===a[0]?s.container:s[a[0]].apply(s,a.slice(1)),o!==e)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var s=[];return g(t.text,n.term,s,i),s.join("")},formatSelection:function(t){return t?t.text:e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:C,escapeMarkup:function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t[0]]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null}},window.Select2={query:{ajax:v,local:y,tags:b},util:{debounce:l,markMatch:g},"class":{"abstract":S,single:$,multi:E}}}}(jQuery),define("select2",["jquery"],function(t){return function(){var e;return e||t.jQuery.fn.select2}}(this));var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/posts/search_post_manager",["backbone","text!templates/posts/search.html","bootstrap","select2"],function(t,e){var n,i;return n=function(t){function n(){return this.onCitySelect=__bind(this.onCitySelect,this),this.render=__bind(this.render,this),i=n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.className="posts-search",n.prototype.events={"change .city-select":"onCitySelect"},n.prototype.initialize=function(t){return this.template=_.template(e),this.parent=t.parent},n.prototype.render=function(){return this.$el.html(this.template()),this.$el.find(".city-select").select2({placeholder:"ie&scaron;kok pagal miest&#261;",escapeMarkup:function(t){return t},width:"300px"}),this},n.prototype.onCitySelect=function(t){var e;return e=$(t.currentTarget).val(),this.parent.fetch({city:e})},n}(t.View)}),define("text!templates/posts/post_create_modal.html",[],function(){return'<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n  <h3>Skelbimas</h3>\n</div>\n<div class="modal-body">\n</div>\n<div class="modal-footer">\n  <a href="#" class="btn" data-dismiss=\'modal\'>Uždaryti</a>\n  <a href="#" class="btn btn-primary save-post-btn">Paskelbti</a>\n</div>\n'});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/posts/post_create_modal_view",["backbone","text!templates/posts/post_create_modal.html"],function(t,e){var n,i;return n=function(t){function n(){return this.onSync=__bind(this.onSync,this),this.savePost=__bind(this.savePost,this),this.render=__bind(this.render,this),i=n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.className="modal hide fade",n.prototype.events={"click .save-post-btn":"savePost"},n.prototype.initialize=function(t){return this.template=_.template(e),this.view=t.view,this.model=this.view.model,this.model.on("sync",this.onSync),this.render()},n.prototype.render=function(){return this.$el.html(this.template()),this.$el.find(".modal-body").html(this.view.render().el),this.$el.modal("show"),this},n.prototype.savePost=function(t){return t.preventDefault(),this.model.unset("post_img_clear"),this.model.save({wait:!0})},n.prototype.onSync=function(){return this.$el.modal("hide"),this.model.trigger("fetch")},n}(t.View)}),define("text!templates/posts/post_create_form.html",[],function(){return"<fieldset>\n  <div class='control-group'>\n    <label class='control-label'>Telefonas:</label>\n    <div class='controls'>\n      <input class=\"span3\" type=\"text\" name='mobile' maxlength='12' placeholder=\"pvz.: +3706777777\">\n      <i class=\"icon-info-sign\" data-toggle='tooltip' title='Užpildę šį langelį, nurodytu numeriu, gausite sms žinutę kas kartą kai kažkas pakomentuos jūsų skelbimą. Tai padės jums greičiau rasti tai ko ieškote.'></i> \n    </div>\n  </div>\n\n  <div class='control-group'>\n    <label class='control-label'>El paštas:</label>\n    <div class='controls'>\n      <input class='span3' type='text' name='email' maxlength='50'/>\n      <i class=\"icon-info-sign\" data-toggle='tooltip' title='Užpildę šį langelį, nurodytu adresu, gausite laišką kas kartą kai kažkas pakomentuos jūsų skelbimą. Tai padės jums greičiau rasti tai ko ieškote.'></i> \n    </div>\n  </div>\n\n  <div class='control-group'>\n    <label class='control-label'>Miestas:</label>\n    <div class='controls city-select-container'></div>\n  </div>\n\n  <div class='control-group'>\n    <label class='control-label'>Aprašymas:</label>\n    <div class='controls'>\n      <textarea class='span3' rows='4' name='body' maxlength='300' placeholder='daugiausiai 300 ženklų'/>\n    </div>\n  </div>\n\n  <div class='control-group file-upload-container'>\n    <label class='control-label'>Pasirinkite nuotraką</label>\n    <div class='controls'>\n      <input class='file-upload' title='Prisekite nuotrauką' type='file' name='post_img_clear'>\n    </div>\n  </div>\n</fieldset>\n<img class='img-holder' id='uploadPreview' style='width: 100%;'/>\n<canvas class='img-canvas' width='220px' height='140px' style='display: none;'></canvas>\n"
});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/posts/post_create_form_view",["backbone","text!templates/posts/post_create_form.html","text!templates/posts/search.html","backbone_datalink"],function(t,e,n){var i,s;return i=function(t){function i(){return this.setupCanvasSize=__bind(this.setupCanvasSize,this),this.setupLanscapeCanvas=__bind(this.setupLanscapeCanvas,this),this.setupPortraitCanvas=__bind(this.setupPortraitCanvas,this),this.setCanvasDimentions=__bind(this.setCanvasDimentions,this),this.passImgToCanvas=__bind(this.passImgToCanvas,this),this.manageLoadedImage=__bind(this.manageLoadedImage,this),this.handleFileUpload=__bind(this.handleFileUpload,this),this.addCitySeletPartial=__bind(this.addCitySeletPartial,this),this.render=__bind(this.render,this),s=i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.tagName="form",i.prototype.className="form-horizontal post-create",i.prototype.events={"change .file-upload":"handleFileUpload"},i.prototype.initialize=function(){return this.maxImageDimention=300,this.template=_.template(e),window.FileReader?(this.fileReader=new FileReader,this.fileReader.onload=this.manageLoadedImage):this.$(".file-upload-container").hide()},i.prototype.render=function(){return this.$el.html(this.template()),this.addCitySeletPartial(),this.$el.backboneLink(this.model),this.canvas=this.$el.find(".img-canvas")[0],this.ctx=this.canvas.getContext("2d"),this},i.prototype.addCitySeletPartial=function(){return this.$el.find(".city-select-container").html(n),this.$el.find(".city-select").addClass("span3")},i.prototype.handleFileUpload=function(t){var e;if(0!==t.currentTarget.files.length&&(e=t.currentTarget.files[0],e.type.match("image")))return this.fileReader.readAsDataURL(e)},i.prototype.manageLoadedImage=function(t){return this.$el.find(".img-holder").attr({src:t.target.result}),this.imgData=new Image,this.imgData.src=t.target.result,this.imgData.onload=this.passImgToCanvas},i.prototype.passImgToCanvas=function(){return this.setCanvasDimentions(),this.ctx.drawImage(this.imgData,0,0,this.canvas.width,this.canvas.height),this.model.set({post_image:this.canvas.toDataURL("image/jpeg")})},i.prototype.setCanvasDimentions=function(){return this.imgData.width>this.imgData.height?this.setupLanscapeCanvas():this.setupPortraitCanvas()},i.prototype.setupPortraitCanvas=function(){var t,e;return t=100-100*-(this.maxImageDimention-this.imgData.height)/this.imgData.height,e=this.imgData.width*t/100,this.setupCanvasSize(e,this.maxImageDimention)},i.prototype.setupLanscapeCanvas=function(){var t,e;return t=100-100*-(this.maxImageDimention-this.imgData.width)/this.imgData.width,e=this.imgData.height*t/100,this.setupCanvasSize(this.maxImageDimention,e)},i.prototype.setupCanvasSize=function(t,e){return this.canvas.width=t,this.canvas.height=e},i}(t.View)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/posts/create_post_manager",["backbone","views/posts/post_create_modal_view","views/posts/post_create_form_view"],function(t,e,n){var i,s;return i=function(t){function i(){return this.createNewPost=__bind(this.createNewPost,this),this.render=__bind(this.render,this),s=i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.tagName="button",i.prototype.className="btn btn-large btn-success post-btn",i.prototype.events={click:"createNewPost"},i.prototype.initialize=function(t){return this.post=t.post},i.prototype.render=function(){return this.$el.text("skelbtis"),this},i.prototype.createNewPost=function(){return this.postFormView=new n({model:this.post}),new e({view:this.postFormView})},i}(t.View)}),define("text!templates/post_comments/item_view.html",[],function(){return"<div class='comment-inner-container'>\n  <strong>Vardas:</strong> <%= author_name %>\n  <hr/>\n  <strong>Komentaras: <%= author_comment %>\n</div>\n"});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/post_comments/item_view",["backbone","text!templates/post_comments/item_view.html"],function(t,e){var n,i;return n=function(t){function n(){return this.render=__bind(this.render,this),i=n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.className="comment-item",n.prototype.initialize=function(){return this.template=_.template(e)},n.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},n}(t.View)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/post_comments/list_view",["backbone","views/post_comments/item_view"],function(t,e){var n,i;return n=function(t){function n(){return this.addItemView=__bind(this.addItemView,this),this.render=__bind(this.render,this),i=n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.className="row-fluid",n.prototype.initialize=function(){return console.log(this.collection)},n.prototype.render=function(){return this.$el.html(),this.collection.each(this.addItemView),this},n.prototype.addItemView=function(t){return this.itemView=new e({model:t}),this.$el.append(this.itemView.render().el)},n}(t.View)}),define("text!templates/post_comments/form.html",[],function(){return"<div class='control-group'>\n  <label class='control-label'>Vardas:</label>\n  <div class='controls'>\n    <input type='text' name='author_name'/>\n  </div>\n</div>\n\n<div class='control-group'>\n  <label class='control-label'>Komentaras</label>\n  <div class='controls'>\n    <textarea rows='4' name='author_comment'/>\n  </div>\n</div>\n\n<div class='control-group'>\n  <div class='controls'>\n    <button class='btn btn-info save-comment-btn'>Skelbti</button>\n  </div>\n</div>\n"});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/post_comments/form_view",["backbone","text!templates/post_comments/form.html"],function(t,e){var n,i;return n=function(t){function n(){return this.saveComment=__bind(this.saveComment,this),this.render=__bind(this.render,this),i=n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.tagName="form",n.prototype.className="form-horizontal",n.prototype.events={"click .save-comment-btn":"saveComment"},n.prototype.initialize=function(){return this.template=_.template(e)},n.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.backboneLink(this.model),this},n.prototype.saveComment=function(t){return t.preventDefault(),this.model.save()},n}(t.View)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("models/post_comment",["backbone"],function(t){var e,n;return e=function(t){function e(){return n=e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.urlRoot="post_comments",e.prototype.idAttribute="id",e.prototype.defaults={author_comment:"undefined",author_name:"undefiner"},e}(t.Model)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("collections/post_comments",["backbone","models/post_comment"],function(t,e){var n,i;return n=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.url="/post_comments",n.prototype.model=e,n}(t.Collection)}),define("text!templates/post_comments/alert_msg.html",[],function(){return'<div class="alert alert-info">\n  <strong>Komentarų nėra.</strong> Būkite pirmas(-a)!\n</div>\n'}),define("text!templates/post_comments/index.html",[],function(){return"<div class='spinner-container'></div>\n<div class='comments-container'></div>\n<div class='form-container'></div>\n"}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define("spin",e):t.Spinner=e()}(this,function(){function t(t,e){var n,i=document.createElement(t||"div");for(n in e)i[n]=e[n];return i}function e(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,i){var s=["opacity",e,~~(100*t),n,i].join("-"),o=.01+100*(n/i),r=Math.max(1-(1-t)/e*(100-o),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[s]||(d.insertRule("@"+l+"keyframes "+s+"{"+"0%{opacity:"+r+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}"+"100%{opacity:"+r+"}"+"}",d.cssRules.length),h[s]=1),s}function i(t,e){var n,i,s=t.style;if(void 0!==s[e])return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<u.length;i++)if(n=u[i]+e,void 0!==s[n])return n}function s(t,e){for(var n in e)t.style[i(t,n)||n]=e[n];return t}function o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)void 0===t[i]&&(t[i]=n[i])}return t}function r(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function a(t){return"undefined"==typeof this?new a(t):(this.opts=o(t||{},a.defaults,p),void 0)}function l(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}d.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,i){function o(){return s(n("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function r(t,r,a){e(h,e(s(o(),{rotation:360/i.lines*t+"deg",left:~~r}),e(s(n("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),n("fill",{color:i.color,opacity:i.opacity}),n("stroke",{opacity:0}))))}var a,l=i.length+i.width,c=2*l,u=2*-(i.width+i.length)+"px",h=s(o(),{position:"absolute",top:u,left:u});if(i.shadow)for(a=1;a<=i.lines;a++)r(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)r(a);return e(t,h)},a.prototype.opacity=function(t,e,n,i){var s=t.firstChild;i=i.shadow&&i.lines||0,s&&e+i<s.childNodes.length&&(s=s.childNodes[e+i],s=s&&s.firstChild,s=s&&s.firstChild,s&&(s.opacity=n))}}var c,u=["webkit","Moz","ms","O"],h={},d=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};a.defaults={},o(a.prototype,{spin:function(e){this.stop();var n,i,o=this,a=o.opts,l=o.el=s(t(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),u=a.radius+a.length+a.width;if(e&&(e.insertBefore(l,e.firstChild||null),i=r(e),n=r(l),s(l,{left:("auto"==a.left?i.x-n.x+(e.offsetWidth>>1):parseInt(a.left,10)+u)+"px",top:("auto"==a.top?i.y-n.y+(e.offsetHeight>>1):parseInt(a.top,10)+u)+"px"})),l.setAttribute("role","progressbar"),o.lines(l,o.opts),!c){var h,d=0,p=(a.lines-1)*(1-a.direction)/2,f=a.fps,m=f/a.speed,g=(1-a.opacity)/(m*a.trail/100),v=m/a.lines;!function y(){d++;for(var t=0;t<a.lines;t++)h=Math.max(1-(d+(a.lines-t)*v)%m*g,a.opacity),o.opacity(l,t*a.direction+p,h,a);o.timeout=o.el&&setTimeout(y,~~(1e3/f))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(i,o){function r(e,n){return s(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.radius+"px"+",0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var a,l=0,u=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)a=s(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,u+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&e(a,s(r("#000","0 0 4px #000"),{top:"2px"})),e(i,e(a,r(o.color,"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var f=s(t("group"),{behavior:"url(#default#VML)"});return!i(f,"transform")&&f.adj?l():c=i(f,"animation"),a});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/post_comments/index_view",["backbone","views/post_comments/list_view","views/post_comments/form_view","collections/post_comments","models/post_comment","text!templates/post_comments/alert_msg.html","text!templates/post_comments/index.html","spin"],function(t,e,n,i,s,o,r,a){var l,c;return l=function(t){function l(){return this.renderForm=__bind(this.renderForm,this),this.renderList=__bind(this.renderList,this),this.fetch=__bind(this.fetch,this),this.render=__bind(this.render,this),c=l.__super__.constructor.apply(this,arguments)}return __extends(l,t),l.prototype.className="post-comments",l.prototype.initialize=function(t){return this.template=_.template(r),this.postId=t.postId,this.spinner=new a({color:"#000",width:4,length:6,lines:11,radius:8}),this.noCommentsMsg=_.template(o),this.comment=new s({post_id:this.postId}),this.comments=new i,this.comments.on("reset",this.renderList),this.fetch({post_id:this.postId})},l.prototype.render=function(){return this.$el.html(this.template),this.$el.find(".spinner-container").append(this.spinner.spin().el),this.renderForm(),this},l.prototype.fetch=function(t){return null==t&&(t={}),this.comments.fetch({data:t,reset:!0})},l.prototype.renderList=function(){return this.spinner.stop(),0===this.comments.length?this.$el.find(".comments-container").append(this.noCommentsMsg):(this.listView=new e({collection:this.comments}),this.$el.find(".comments-container").append(this.listView.render().el))},l.prototype.renderForm=function(){return this.formView=new n({model:this.comment}),this.$el.find(".form-container").append(this.formView.render().el)},l}(t.View)}),define("text!templates/post_details/index.html",[],function(){return"<div class='modal-header'>\n  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n  <h3>\n    Paskelbta: \n    <% if (new XDate(created_at).toString('MM d yyyy') == new XDate().toString('MM d yyyy')) { %>\n      <span class='text-error'>Šiandien!</span>\n    <% } else { %>\n      <%= new XDate(created_at).toString('dddd, MMM d, yyyy') %>\n    <% } %>\n  </h3>\n</div>\n\n<div class='modal-body'>\n  <div class='row-fluid'>\n    <div class='span6'>\n      <% if (post_image === undefined) { %> \n        <img src='images/anonym.jpg'>\n      <% } else { %>\n        <img src=<%= post_image %> />\n      <% } %>\n    </div>\n\n    <div class='span6'>\n      <% if (body != undefined) { %>\n        <dl class='dl-horizontal'>\n          <dt>Detaliau:</dt>\n          <dd><%= body %></dd>\n        </dl>\n      <% } %>\n    </div>\n  </div>\n  <hr class='post-comment-separator'/>\n\n  <div class='row-fluid'>\n    <div class='comment-container'></div>\n  </div>\n\n</div>\n"});var XDate=function(t,e,n,i){function s(){var e,n=this instanceof s?this:new s,i=arguments,a=i.length;if("boolean"==typeof i[a-1]&&(e=i[--a],i=T(i,0,a)),a)if(1==a){if(a=i[0],a instanceof t||"number"==typeof a)n[0]=new t(+a);else if(a instanceof s){var i=n,l=new t(+a[0]);o(a)&&(l.toString=O),i[0]=l}else if("string"==typeof a){n[0]=new t(0);t:{for(var c,i=a,a=e||!1,l=s.parsers,u=0;u<l.length;u++)if(c=l[u](i,a,n)){n=c;break t}n[0]=new t(i)}}}else n[0]=new t(D.apply(t,i)),e||(n[0]=x(n[0]));else n[0]=new t;return"boolean"==typeof e&&r(n,e),n}function o(t){return t[0].toString===O}function r(e,n,i){return n?o(e)||(i&&(e[0]=new t(D(e[0].getFullYear(),e[0].getMonth(),e[0].getDate(),e[0].getHours(),e[0].getMinutes(),e[0].getSeconds(),e[0].getMilliseconds()))),e[0].toString=O):o(e)&&(e[0]=i?x(e[0]):new t(+e[0])),e}function a(t,e,n,i,s){var o=k(b,t[0],s),t=k(w,t[0],s),s=!1;2==i.length&&"boolean"==typeof i[1]&&(s=i[1],i=[n]),n=1==e?(n%12+12)%12:o(1),t(e,i),s&&o(1)!=n&&(t(1,[o(1)-1]),t(2,[_(o(0),o(1))]))}function l(t,n,i,s){var i=Number(i),o=e.floor(i);t["set"+E[n]](t["get"+E[n]]()+o,s||!1),o!=i&&6>n&&l(t,n+1,(i-o)*j[n],s)}function c(t,n,i){var t=t.clone().setUTCMode(!0,!0),n=s(n).setUTCMode(!0,!0),o=0;if(0==i||1==i){for(var r=6;r>=i;r--)o/=j[r],o+=b(n,!1,r)-b(t,!1,r);1==i&&(o+=12*(n.getFullYear()-t.getFullYear()))}else 2==i?(i=t.toDate().setUTCHours(0,0,0,0),o=n.toDate().setUTCHours(0,0,0,0),o=e.round((o-i)/864e5)+(n-o-(t-i))/864e5):o=(n-t)/[36e5,6e4,1e3,1][i-3];return o}function u(n){var i=n(0),s=n(1),o=n(2),n=new t(D(i,s,o)),i=d(h(i,s,o));return e.floor(e.round((n-i)/864e5)/7)+1}function h(e,n,i){return n=new t(D(e,n,i)),n<d(e)?e-1:n>=d(e+1)?e+1:e}function d(e){return e=new t(D(e,0,4)),e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+6)%7),e}function p(t,e,n,s){var o=k(b,t,s),r=k(w,t,s);n===i&&(n=h(o(0),o(1),o(2))),n=d(n),s||(n=x(n)),t.setTime(+n),r(2,[o(2)+7*(e-1)])}function f(t,e,n,i,o){var r=s.locales,a=r[s.defaultLocale]||{},l=k(b,t,o),n=("string"==typeof n?r[n]:n)||{};return m(t,e,function(t){if(i)for(var e=(7==t?2:t)-1;e>=0;e--)i.push(l(e));return l(t)},function(t){return n[t]||a[t]},o)}function m(t,e,n,s,o){for(var r,a,l="";r=e.match(P);){if(l+=e.substr(0,r.index),r[1]){a=l;for(var l=t,c=r[1],u=n,h=s,d=o,p=c.length,f=void 0,v="";p>0;)f=g(l,c.substr(0,p),u,h,d),f!==i?(v+=f,c=c.substr(p),p=c.length):p--;l=a+(v+c)}else r[3]?(a=m(t,r[4],n,s,o),parseInt(a.replace(/\D/g,""),10)&&(l+=a)):l+=r[7]||"'";e=e.substr(r.index+r[0].length)}return l+e}function g(t,n,i,o,r){var a=s.formatters[n];if("string"==typeof a)return m(t,a,i,o,r);if("function"==typeof a)return a(t,r||!1,o);switch(n){case"fff":return $(i(6),3);case"s":return i(5);case"ss":return $(i(5));case"m":return i(4);case"mm":return $(i(4));case"h":return i(3)%12||12;case"hh":return $(i(3)%12||12);case"H":return i(3);case"HH":return $(i(3));case"d":return i(2);case"dd":return $(i(2));case"ddd":return o("dayNamesShort")[i(7)]||"";case"dddd":return o("dayNames")[i(7)]||"";case"M":return i(1)+1;case"MM":return $(i(1)+1);case"MMM":return o("monthNamesShort")[i(1)]||"";case"MMMM":return o("monthNames")[i(1)]||"";case"yy":return(i(0)+"").substring(2);case"yyyy":return i(0);case"t":return v(i,o).substr(0,1).toLowerCase();case"tt":return v(i,o).toLowerCase();case"T":return v(i,o).substr(0,1);case"TT":return v(i,o);case"z":case"zz":case"zzz":return r?n="Z":(o=t.getTimezoneOffset(),t=0>o?"+":"-",i=e.floor(e.abs(o)/60),o=e.abs(o)%60,r=i,"zz"==n?r=$(i):"zzz"==n&&(r=$(i)+":"+$(o)),n=t+r),n;case"w":return u(i);case"ww":return $(u(i));case"S":return n=i(2),n>10&&20>n?"th":["st","nd","rd"][n%10-1]||"th"}}function v(t,e){return t(3)<12?e("amDesignator"):e("pmDesignator")}function y(t){return!isNaN(+t[0])}function b(t,e,n){return t["get"+(e?"UTC":"")+E[n]]()}function w(t,e,n,i){t["set"+(e?"UTC":"")+E[n]].apply(t,i)}function x(e){return new t(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function _(e,n){return 32-new t(D(e,n,32)).getUTCDate()}function C(t){return function(){return t.apply(i,[this].concat(T(arguments)))}}function k(t){var e=T(arguments,1);return function(){return t.apply(i,e.concat(T(arguments)))}}function T(t,e,s){return n.prototype.slice.call(t,e||0,s===i?t.length:s)}function S(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function $(t,e){for(e=e||2,t+="";t.length<e;)t="0"+t;return t}var E="FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Day,Year".split(","),N=["Years","Months","Days"],j=[12,31,24,60,60,1e3,1],P=/(([a-zA-Z])\2*)|(\((('.*?'|\(.*?\)|.)*?)\))|('(.*?)')/,D=t.UTC,O=t.prototype.toUTCString,A=s.prototype;return A.length=1,A.splice=n.prototype.splice,A.getUTCMode=C(o),A.setUTCMode=C(r),A.getTimezoneOffset=function(){return o(this)?0:this[0].getTimezoneOffset()},S(E,function(t,e){A["get"+t]=function(){return b(this[0],o(this),e)},8!=e&&(A["getUTC"+t]=function(){return b(this[0],!0,e)}),7!=e&&(A["set"+t]=function(t){return a(this,e,t,arguments,o(this)),this},8!=e&&(A["setUTC"+t]=function(t){return a(this,e,t,arguments,!0),this},A["add"+(N[e]||t)]=function(t,n){return l(this,e,t,n),this},A["diff"+(N[e]||t)]=function(t){return c(this,t,e)}))}),A.getWeek=function(){return u(k(b,this,!1))},A.getUTCWeek=function(){return u(k(b,this,!0))},A.setWeek=function(t,e){return p(this,t,e,!1),this},A.setUTCWeek=function(t,e){return p(this,t,e,!0),this},A.addWeeks=function(t){return this.addDays(7*Number(t))},A.diffWeeks=function(t){return c(this,t,2)/7},s.parsers=[function(e,n,i){if(e=e.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/)){var s=new t(D(e[1],e[3]?e[3]-1:0,e[5]||1,e[7]||0,e[8]||0,e[10]||0,e[12]?1e3*Number("0."+e[12]):0));return e[13]?e[14]&&s.setUTCMinutes(s.getUTCMinutes()+("-"==e[15]?1:-1)*(60*Number(e[16])+(e[18]?Number(e[18]):0))):n||(s=x(s)),i.setTime(+s)}}],s.parse=function(t){return+s(""+t)},A.toString=function(t,e,n){return t!==i&&y(this)?f(this,t,e,n,o(this)):this[0].toString()},A.toUTCString=A.toGMTString=function(t,e,n){return t!==i&&y(this)?f(this,t,e,n,!0):this[0].toUTCString()},A.toISOString=function(){return this.toUTCString("yyyy-MM-dd'T'HH:mm:ss(.fff)zzz")},s.defaultLocale="",s.locales={"":{monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),amDesignator:"AM",pmDesignator:"PM"}},s.formatters={i:"yyyy-MM-dd'T'HH:mm:ss(.fff)",u:"yyyy-MM-dd'T'HH:mm:ss(.fff)zzz"},S("getTime,valueOf,toDateString,toTimeString,toLocaleString,toLocaleDateString,toLocaleTimeString,toJSON".split(","),function(t){A[t]=function(){return this[0][t]()}}),A.setTime=function(t){return this[0].setTime(t),this},A.valid=C(y),A.clone=function(){return new s(this)},A.clearTime=function(){return this.setHours(0,0,0,0)},A.toDate=function(){return new t(+this[0])},s.now=function(){return+new t},s.today=function(){return(new s).clearTime()},s.UTC=D,s.getDaysInMonth=_,"undefined"!=typeof module&&module.exports&&(module.exports=s),"function"==typeof define&&define.amd&&define("xdate",[],function(){return s}),s}(Date,Math,Array);!function(t){var e=function(t,e){this.init(t,e)};e.prototype={constructor:e,init:function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote);var i="function"==typeof this.options.manager?this.options.manager.call(this):this.options.manager;i=i.appendModal?i:t(i).modalmanager().data("modalmanager"),i.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=t.Event("show");this.isShown||(this.$element.trigger(e),e.isDefaultPrevented()||(this.escape(),this.tab(),this.options.loading&&this.loading()))},hide:function(e){return e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),!this.isShown||e.isDefaultPrevented()?this.isShown=!1:(this.isShown=!1,this.escape(),this.tab(),this.isLoading&&this.loading(),t(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal(),void 0)},layout:function(){var e=this.options.height?"height":"max-height",n=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var i=this;this.$element.css("margin-left",function(){return/%/gi.test(i.options.width)?-(parseInt(i.options.width)/2)+"%":-(t(this).width()/2)+"px"})}else this.$element.css("width",""),this.$element.css("margin-left","");this.$element.find(".modal-body").css("overflow","").css(e,""),n&&this.$element.find(".modal-body").css("overflow","auto").css(e,n);var s=t(window).height()-10<this.$element.height();s||this.options.modalOverflow?this.$element.css("margin-top",0).addClass("modal-overflow"):this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")},tab:function(){var e=this;this.isShown&&this.options.consumeTab?this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(n){if(n.keyCode&&9==n.keyCode){var i=t(this),s=t(this);e.$element.find("[data-tabindex]:enabled:not([readonly])").each(function(e){i=e.shiftKey?i.data("tabindex")>t(this).data("tabindex")?i=t(this):s=t(this):i.data("tabindex")<t(this).data("tabindex")?i=t(this):s=t(this)}),i[0]!==t(this)[0]?i.focus():s.focus(),n.preventDefault()}}):this.isShown||this.$element.off("keydown.tabindex.modal")},escape:function(){var t=this;this.isShown&&this.options.keyboard?(this.$element.attr("tabindex")||this.$element.attr("tabindex",-1),this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this.options.height?"height":"max-height",e=this.options.height||this.options.maxHeight;e&&this.$element.find(".modal-body").css("overflow","").css(t,""),this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove(),this.$loading=null,this.isLoading=!1},loading:function(e){e=e||function(){};var n=this.$element.hasClass("fade")?"fade":"";if(this.isLoading)if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var i=this;t.support.transition&&this.$element.hasClass("fade")?this.$loading.one(t.support.transition.end,function(){i.removeLoading()}):i.removeLoading()}else e&&e(this.isLoading);else{var s=t.support.transition&&n;this.$loading=t('<div class="loading-mask '+n+'">').append(this.options.spinner).appendTo(this.$element),s&&this.$loading[0].offsetWidth,this.$loading.addClass("in"),this.isLoading=!0,s?this.$loading.one(t.support.transition.end,e):e()}},focus:function(){var t=this.$element.find(this.options.focusOn);t=t.length?t:this.$element,t.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var t=this;setTimeout(function(){t.$element.addClass("animated").addClass(t.options.attentionAnimation)},0)}this.focus()},destroy:function(){var e=t.Event("destroy");this.$element.trigger(e),e.isDefaultPrevented()||this.teardown()},teardown:function(){return this.$parent.length?(this.$parent!==this.$element.parent()&&this.$element.appendTo(this.$parent),this.$element.off(".modal"),this.$element.removeData("modal"),this.$element.removeClass("in").attr("aria-hidden",!0),void 0):(this.$element.remove(),this.$element=null,void 0)}},t.fn.modal=function(n,i){return this.each(function(){var s=t(this),o=s.data("modal"),r=t.extend({},t.fn.modal.defaults,s.data(),"object"==typeof n&&n);o||s.data("modal",o=new e(this,r)),"string"==typeof n?o[n].apply(o,[].concat(i)):r.show&&o.show()})},t.fn.modal.defaults={keyboard:!0,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!0,focusOn:null,replace:!1,resize:!1,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>'},t.fn.modal.Constructor=e,t(function(){t(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),s=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},s.data(),n.data());e.preventDefault(),s.modal(o).one("hide",function(){n.focus()})})})}(window.jQuery),define("modal",function(){}),!function(t){function e(t){return function(e){return this===e.target?t.apply(this,arguments):void 0}}var n=function(t,e){this.init(t,e)};n.prototype={constructor:n,init:function(e,n){if(this.$element=t(e),this.options=t.extend({},t.fn.modalmanager.defaults,this.$element.data(),"object"==typeof n&&n),this.stack=[],this.backdropCount=0,this.options.resize){var i,s=this;t(window).on("resize.modal",function(){i&&clearTimeout(i),i=setTimeout(function(){for(var t=0;t<s.stack.length;t++)s.stack[t].isShown&&s.stack[t].layout()},10)})}},createModal:function(e,n){t(e).modal(t.extend({manager:this},n))},appendModal:function(n){this.stack.push(n);var i=this;n.$element.on("show.modalmanager",e(function(){var e=function(){n.isShown=!0;var e=t.support.transition&&n.$element.hasClass("fade");i.$element.toggleClass("modal-open",i.hasOpenModal()).toggleClass("page-overflow",t(window).height()<i.$element.height()),n.$parent=n.$element.parent(),n.$container=i.createContainer(n),n.$element.appendTo(n.$container),i.backdrop(n,function(){n.$element.show(),e&&n.$element[0].offsetWidth,n.layout(),n.$element.addClass("in").attr("aria-hidden",!1);var s=function(){i.setFocus(),n.$element.trigger("shown")};e?n.$element.one(t.support.transition.end,s):s()})};n.options.replace?i.replace(e):e()})),n.$element.on("hidden.modalmanager",e(function(){i.backdrop(n),n.$backdrop?t.support.transition&&n.$element.hasClass("fade")?n.$backdrop.one(t.support.transition.end,function(){i.destroyModal(n)}):i.destroyModal(n):i.destroyModal(n)})),n.$element.on("destroy.modalmanager",e(function(){i.removeModal(n)}))},destroyModal:function(t){t.destroy();var e=this.hasOpenModal();this.$element.toggleClass("modal-open",e),e||this.$element.removeClass("page-overflow"),this.removeContainer(t),this.setFocus()},hasOpenModal:function(){for(var t=0;t<this.stack.length;t++)if(this.stack[t].isShown)return!0;return!1},setFocus:function(){for(var t,e=0;e<this.stack.length;e++)this.stack[e].isShown&&(t=this.stack[e]);t&&t.focus()},removeModal:function(t){t.$element.off(".modalmanager"),t.$backdrop&&this.removeBackdrop(t),this.stack.splice(this.getIndexOfModal(t),1)},getModalAt:function(t){return this.stack[t]},getIndexOfModal:function(t){for(var e=0;e<this.stack.length;e++)if(t===this.stack[e])return e},replace:function(n){for(var i,s=0;s<this.stack.length;s++)this.stack[s].isShown&&(i=this.stack[s]);i?(this.$backdropHandle=i.$backdrop,i.$backdrop=null,n&&i.$element.one("hidden",e(t.proxy(n,this))),i.hide()):n&&n()},removeBackdrop:function(t){t.$backdrop.remove(),t.$backdrop=null},createBackdrop:function(e){var n;return this.$backdropHandle?(n=this.$backdropHandle,n.off(".modalmanager"),this.$backdropHandle=null,this.isLoading&&this.removeSpinner()):n=t('<div class="modal-backdrop '+e+'" />').appendTo(this.$element),n
},removeContainer:function(t){t.$container.remove(),t.$container=null},createContainer:function(n){var s;return s=t('<div class="modal-scrollable">').css("z-index",i("modal",n?this.getIndexOfModal(n):this.stack.length)).appendTo(this.$element),n&&"static"!=n.options.backdrop?s.on("click.modal",e(function(){n.hide()})):n&&s.on("click.modal",e(function(){n.attention()})),s},backdrop:function(e,n){var s=e.$element.hasClass("fade")?"fade":"",o=e.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(e.isShown&&o){var r=t.support.transition&&s&&!this.$backdropHandle;e.$backdrop=this.createBackdrop(s),e.$backdrop.css("z-index",i("backdrop",this.getIndexOfModal(e))),r&&e.$backdrop[0].offsetWidth,e.$backdrop.addClass("in"),this.backdropCount+=1,r?e.$backdrop.one(t.support.transition.end,n):n()}else if(!e.isShown&&e.$backdrop){e.$backdrop.removeClass("in"),this.backdropCount-=1;var a=this;t.support.transition&&e.$element.hasClass("fade")?e.$backdrop.one(t.support.transition.end,function(){a.removeBackdrop(e)}):a.removeBackdrop(e)}else n&&n()},removeSpinner:function(){this.$spinner&&this.$spinner.remove(),this.$spinner=null,this.isLoading=!1},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove(),this.$backdropHandle=null,this.removeSpinner()},loading:function(e){if(e=e||function(){},this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",t(window).height()<this.$element.height()),this.isLoading)if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var n=this;t.support.transition?this.$backdropHandle.one(t.support.transition.end,function(){n.removeLoading()}):n.removeLoading()}else e&&e(this.isLoading);else{this.$backdropHandle=this.createBackdrop("fade"),this.$backdropHandle[0].offsetWidth,this.$backdropHandle.css("z-index",i("backdrop",this.stack.length)).addClass("in");var s=t(this.options.spinner).css("z-index",i("modal",this.stack.length)).appendTo(this.$element).addClass("in");this.$spinner=t(this.createContainer()).append(s).on("click.modalmanager",t.proxy(this.loading,this)),this.isLoading=!0,t.support.transition?this.$backdropHandle.one(t.support.transition.end,e):e()}}};var i=function(){var e,n={};return function(i,s){if("undefined"==typeof e){var o=t('<div class="modal hide" />').appendTo("body"),r=t('<div class="modal-backdrop hide" />').appendTo("body");n.modal=+o.css("z-index"),n.backdrop=+r.css("z-index"),e=n.modal-n.backdrop,o.remove(),r.remove(),r=o=null}return n[i]+e*s}}();t.fn.modalmanager=function(e,i){return this.each(function(){var s=t(this),o=s.data("modalmanager");o||s.data("modalmanager",o=new n(this,e)),"string"==typeof e&&o[e].apply(o,[].concat(i))})},t.fn.modalmanager.defaults={backdropLimit:999,resize:!0,spinner:'<div class="loading-spinner fade" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>'},t.fn.modalmanager.Constructor=n}(jQuery),define("modalmanager",function(){});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/post_details/index_view",["backbone","views/post_comments/index_view","text!templates/post_details/index.html","xdate","modal","modalmanager"],function(t,e,n){var i,s;return i=function(t){function i(){return this.renderComments=__bind(this.renderComments,this),this.render=__bind(this.render,this),s=i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.className="modal hide fade post_details",i.prototype.attributes={"data-width":"1024"},i.prototype.initialize=function(){return this.template=_.template(n),this.render()},i.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.renderComments(),this.$el.modal("show"),this},i.prototype.renderComments=function(){return this.postComments=new e({postId:this.model.get("_id")}),this.$el.find(".comment-container").append(this.postComments.render().el)},i}(t.View)}),define("text!templates/posts/item.html",[],function(){return'<div class="modal-body">\n  <div class=\'row-fluid\'>\n    <div class=\'span6 img-container\'>\n      <% if (post_image) { %>\n        <img src=\'<%= post_image %>\' />\n      <% } else { %>\n        <img src=\'images/anonym.jpg\' />\n      <% } %>\n    </div>\n    <div class=\'span6 body\'>\n      <% if (body) { %>\n        <span><%= body %></span>\n      <% } %>\n    </div>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <div class="pull-left">\n    <small>Komentarai:</small><span class="badge badge-success"><%= comments.length %></span>\n    <small>Prisijungia:</small><span class="badge badge-warning">8</span>\n  </div>\n  <div class=\'btn-group\'>  \n    <button class="btn btn-info btn-small details-btn">Detaliau</button>\n    <button class="btn btn-success btn-small join-event-btn">Prisijungti</button>\n  </div>\n</div>\n'}),function(t){function e(){var e=t(this),n=document.createElement("canvas");return ctx=n.getContext("2d"),e.html(n),ctx.font=e.css("font-style")+" "+e.css("font-variant")+" "+e.css("font-weight")+" "+Math.ceil(parseFloat(e.css("font-size")))+"px "+e.css("font-family"),ctx}function n(t,e){return e.measureText(t).width}function i(){var e="padding:0; margin:0; border:none; font:inherit;",n=t('<table style="'+e+'width:auto;zoom:1;position:absolute;"><tr style="'+e+'"><td style="'+e+'white-space:nowrap;"></td></tr></table>');return $td=t("td",n),t(this).html(n),$td}function s(t,e){return e.text(t),e.width()}var o,r,a,l=!1,c="shorten-info",u="shorten-options";t.fn.shorten=function(){var l={},h=arguments,d=h.callee;if(h.length)if(h[0].constructor==Object)l=h[0];else{if("options"==h[0])return t(this).eq(0).data(u);l={width:parseInt(h[0]),tail:h[1]}}this.css("visibility","hidden");var p=t.extend({},d.defaults,l);return this.each(function(){var h,f,m=t(this),g=m.text(),v=g.length,y=t("<span/>").html(p.tail).text(),b={shortened:!1,textOverflow:!1};if(h="none"!=m.css("float")?p.width||m.width():p.width||m.parent().width(),0>h)return!0;m.data(u,p),this.style.display="block",this.style.whiteSpace="nowrap",o?(r=e.call(this),a=n):(r=i.call(this),a=s);var w=a.call(this,g,r);if(h>w)return m.text(g),this.style.visibility="visible",m.data(c,b),!0;if(p.tooltip&&this.setAttribute("title",g),d._native&&!l.width){var x=t("<span>"+p.tail+"</span>").text();if(1==x.length&&8230==x.charCodeAt(0))return m.text(g),this.style.overflow="hidden",this.style[d._native]="ellipsis",this.style.visibility="visible",b.shortened=!0,b.textOverflow="ellipsis",m.data(c,b),!0}f=a.call(this,y,r),h-=f;var _=1.15*h;if(w-_>0){var C=_/w,k=Math.ceil(v*C),T=g.substring(0,k),S=a.call(this,T,r);S>h&&(g=T,v=g.length)}do v--,g=g.substring(0,v);while(a.call(this,g,r)>=h);return m.html(t.trim(t("<span/>").text(g).html())+p.tail),this.style.visibility="visible",b.shortened=!0,m.data(c,b),!0})};var h=document.documentElement.style;if("textOverflow"in h?l="textOverflow":"OTextOverflow"in h&&(l="OTextOverflow"),"undefined"!=typeof Modernizr&&Modernizr.canvastext)o=Modernizr.canvastext;else{var d=document.createElement("canvas");o=!(!d.getContext||!d.getContext("2d")||"function"!=typeof d.getContext("2d").fillText)}t.fn.shorten._is_canvasTextSupported=o,t.fn.shorten._native=l,t.fn.shorten.defaults={tail:"&hellip;",tooltip:!0}}(jQuery),define("shorten",["jquery"],function(t){return function(){var e;return e||t.jQuery.fn.shorten}}(this));var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/posts/item_view",["backbone","views/post_details/index_view","text!templates/posts/item.html","shorten"],function(t,e,n){var i,s;return i=function(t){function i(){return this.showPostDetails=__bind(this.showPostDetails,this),this.render=__bind(this.render,this),s=i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.className="well grid post-item",i.prototype.events={"click .details-btn":"showPostDetails"},i.prototype.initialize=function(){return this.template=_.template(n)},i.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.find(".title").shorten({tail:"&hellip;",tooltip:!0}),this},i.prototype.showPostDetails=function(){return new e({model:this.model})},i}(t.View)}),define("modules/tile_manager",[],function(){return{recalibrate:function(t){var e,n,i,s;return s=$(window).width(),n=void 0,750>s?(n=370,e=1):1200>s?(n=720,e=2):(n=1100,e=3),n!==i?(i=n,t.width(n),t.BlocksIt({numOfCol:e,offsetX:8,offsetY:8})):void 0}}}),function(t){var e,n,i={numOfCol:5,offsetX:5,offsetY:5,blockElement:"div"},s=[];Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=e);e>n;n++)if(n in this&&this[n]===t)return n;return-1});var o=function(){s=[];for(var t=0;t<i.numOfCol;t++)r("empty-"+t,t,0,1,-i.offsetY)},r=function(t,e,n,o,r){for(var a=0;o>a;a++){var l=new Object;l.x=e+a,l.size=o,l.endY=n+r+2*i.offsetY,s.push(l)}},a=function(t,e){for(var n=0;e>n;n++){var i=l(t+n,"x");s.splice(i,1)}},l=function(t,e){for(var n=0;n<s.length;n++){var i=s[n];if("x"==e&&i.x==t)return n;if("endY"==e&&i.endY==t)return n}},c=function(t,e){for(var n=[],i=0;e>i;i++)n.push(s[l(t+i,"x")].endY);var o=Math.min.apply(Math,n),r=Math.max.apply(Math,n);return[o,r,n.indexOf(o)]},u=function(t){if(t>1){for(var e,n,i=s.length-t,o=!1,r=0;r<s.length;r++){var a=s[r],l=a.x;if(l>=0&&i>=l){var u=c(l,t);o?u[1]<e[1]&&(e=u,n=l):(o=!0,e=u,n=l)}}return[n,e[1]]}return e=c(0,s.length),[e[2],e[0]]},h=function(t){!t.data("size")||t.data("size")<0?t.data("size",1):t.data("size")>i.numOfCol&&t.data("size",i.numOfCol);var e=u(t.data("size")),s=n*t.data("size")-(t.outerWidth()-t.width());t.css({width:s-2*i.offsetX,left:e[0]*n,top:e[1],position:"absolute"});var o=t.outerHeight();a(e[0],t.data("size")),r(t.attr("id"),e[0],e[1],t.data("size"),o)};t.fn.BlocksIt=function(r){r&&"object"==typeof r&&t.extend(i,r),e=t(this),n=e.width()/i.numOfCol,o(),e.children(i.blockElement).each(function(e){h(t(this),e)});var a=c(0,s.length);return e.height(a[1]+i.offsetY),this}}(jQuery),define("blocksit",["jquery"],function(t){return function(){var e;return e||t.jQuery.fn.blocksit}}(this));var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/posts/list_view",["backbone","views/posts/item_view","modules/tile_manager","blocksit"],function(t,e,n){var i,s;return i=function(t){function i(){return this.manageTiles=__bind(this.manageTiles,this),this.addPost=__bind(this.addPost,this),this.renderPosts=__bind(this.renderPosts,this),this.render=__bind(this.render,this),s=i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.id="container",i.prototype.render=function(){var t=this;return this.$el.html(),this.renderPosts(),$(window).resize(function(){return n.recalibrate(t.$el)}),this},i.prototype.renderPosts=function(){return this.collection.each(this.addPost)},i.prototype.addPost=function(t){return this.postItemView=new e({model:t}),this.$el.append(this.postItemView.render().el)},i.prototype.manageTiles=function(){return n.recalibrate(this.$el)},i}(t.View)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("models/post",["backbone"],function(t){var e,n;return e=function(t){function e(){return n=e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.urlRoot="posts",e.prototype.idAttribute="id",e.prototype.defaults={post_image:void 0,body:void 0},e}(t.Model)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("collections/posts",["backbone","models/post"],function(t,e){var n,i;return n=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.url="/posts",n.prototype.model=e,n}(t.Collection)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/posts/index_view",["backbone","views/posts/search_post_manager","views/posts/create_post_manager","views/posts/list_view","models/post","collections/posts","spin"],function(t,e,n,i,s,o,r){var a,l;return a=function(t){function a(){return this.renderList=__bind(this.renderList,this),this.enableCreate=__bind(this.enableCreate,this),this.enableSearch=__bind(this.enableSearch,this),this.fetch=__bind(this.fetch,this),this.render=__bind(this.render,this),l=a.__super__.constructor.apply(this,arguments)}return __extends(a,t),a.prototype.className="posts-conainer",a.prototype.initialize=function(){return this.spinner=new r({color:"#fff"}),this.posts=new o,this.posts.on("reset",this.renderList),this.post=new s,this.post.on("fetch",this.fetch)},a.prototype.render=function(){return this.$el.html(),this.enableSearch(),this.enableCreate(),this.fetch(),this},a.prototype.fetch=function(t){var e;return null==t&&(t={}),null!=(e=this.listView)&&e.remove(),this.$el.append(this.spinner.spin().el),this.posts.fetch({data:t,reset:!0})},a.prototype.enableSearch=function(){return this.searchView=new e({collection:this.posts,parent:this}),this.$el.append(this.searchView.render().el)},a.prototype.enableCreate=function(){return this.createInput=new n({post:this.post}),this.$el.append(this.createInput.render().el)},a.prototype.renderList=function(){return this.spinner.stop(),this.listView=new i({collection:this.posts}),this.$el.append(this.listView.render().el),this.listView.manageTiles()},a}(t.View)}),define("text!templates/page/index.html",[],function(){return"<div class='container main'>\n</div>\n"});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/page/index_view",["backbone","views/posts/index_view","text!templates/page/index.html"],function(t,e,n){var i,s;return i=function(t){function i(){return this.renderPosts=__bind(this.renderPosts,this),this.render=__bind(this.render,this),s=i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.className="container-fluid",i.prototype.initialize=function(){return this.template=_.template(n)},i.prototype.render=function(){return this.$el.html(this.template()),this.renderPosts(),this},i.prototype.renderPosts=function(){return this.postsView=new e,this.$el.find(".container").append(this.postsView.render().el)},i}(t.View)}),function(t,e,n){t.fn.backstretch=function(i,o){return(i===n||0===i.length)&&t.error("No images were supplied for Backstretch"),0===t(e).scrollTop()&&e.scrollTo(0,0),this.each(function(){var e=t(this),n=e.data("backstretch");n&&(o=t.extend(n.options,o),n.destroy(!0)),n=new s(this,i,o),e.data("backstretch",n)})},t.backstretch=function(e,n){return t("body").backstretch(e,n).data("backstretch")},t.expr[":"].backstretch=function(e){return t(e).data("backstretch")!==n},t.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var i={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},img:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxWidth:"none",zIndex:-999999}},s=function(n,s,r){if(this.options=t.extend({},t.fn.backstretch.defaults,r||{}),this.images=t.isArray(s)?s:[s],t.each(this.images,function(){t("<img />")[0].src=this}),this.isBody=n===document.body,this.$container=t(n),this.$wrap=t('<div class="backstretch"></div>').css(i.wrap).appendTo(this.$container),this.$root=this.isBody?o?t(e):t(document):this.$container,!this.isBody){var a=this.$container.css("position"),l=this.$container.css("zIndex");this.$container.css({position:"static"===a?"relative":a,zIndex:"auto"===l?0:l,background:"none"}),this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&o?"fixed":"absolute"}),this.index=0,this.show(this.index),t(e).on("resize.backstretch",t.proxy(this.resize,this)).on("orientationchange.backstretch",t.proxy(function(){this.isBody&&0===e.pageYOffset&&(e.scrollTo(0,1),this.resize())},this))};s.prototype={resize:function(){try{var t,n={left:0,top:0},i=this.isBody?this.$root.width():this.$root.innerWidth(),s=i,o=this.isBody?e.innerHeight?e.innerHeight:this.$root.height():this.$root.innerHeight(),r=s/this.$img.data("ratio");r>=o?(t=(r-o)/2,this.options.centeredY&&(n.top="-"+t+"px")):(r=o,s=r*this.$img.data("ratio"),t=(s-i)/2,this.options.centeredX&&(n.left="-"+t+"px")),this.$wrap.css({width:i,height:o}).find("img:not(.deleteable)").css({width:s,height:r}).css(n)}catch(a){}return this},show:function(e){if(!(Math.abs(e)>this.images.length-1)){this.index=e;var n=this,s=n.$wrap.find("img").addClass("deleteable"),o=t.Event("backstretch.show",{relatedTarget:n.$container[0]});return clearInterval(n.interval),n.$img=t("<img />").css(i.img).bind("load",function(e){var i=this.width||t(e.target).width(),r=this.height||t(e.target).height();t(this).data("ratio",i/r),t(this).fadeIn(n.options.speed||n.options.fade,function(){s.remove(),n.paused||n.cycle(),n.$container.trigger(o,n)}),n.resize()}).appendTo(n.$wrap),n.$img.attr("src",n.images[e]),n}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return this.images.length>1&&(clearInterval(this.interval),this.interval=setInterval(t.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(n){t(e).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),n||this.$wrap.remove(),this.$container.removeData("backstretch")}};var o=function(){var t=navigator.userAgent,n=navigator.platform,i=t.match(/AppleWebKit\/([0-9]+)/),s=!!i&&i[1],o=t.match(/Fennec\/([0-9]+)/),r=!!o&&o[1],a=t.match(/Opera Mobi\/([0-9]+)/),l=!!a&&a[1],c=t.match(/MSIE ([0-9]+)/),u=!!c&&c[1];return!((n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&s&&534>s||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||a&&7458>l||t.indexOf("Android")>-1&&s&&533>s||r&&6>r||"palmGetResource"in e&&s&&534>s||t.indexOf("MeeGo")>-1&&t.indexOf("NokiaBrowser/8.5.0")>-1||u&&6>=u)}()}(jQuery,window),define("backstretch",["jquery"],function(t){return function(){var e;return e||t.jQuery.fn.backstretch}}(this)),define("app",["jquery","backbone","views/page/index_view","backstretch"],function(t,e,n){return{init:function(){return t("body").backstretch("http://turnlol.com/images/2012/10/light-bokeh-macro-depth-of-field-blurred-1920x1080-hd-wallpaper.jpg"),t("body").append((new n).render().el)}}}),require.config({paths:{jquery:"lib/jquery",underscore:"lib/underscore",backbone:"lib/backbone",backbone_datalink:"lib/backbone_datalink",text:"lib/requirejs/text",domready:"lib/requirejs/domready",bootstrap:"lib/bootstrap",modal:"lib/bootstrap_modal",modalmanager:"lib/bootstrap_modalmanager",select2:"lib/select2",backstretch:"lib/backstretch",blocksit:"lib/blocksit",shorten:"lib/jquery_shorten",spin:"lib/spin",xdate:"lib/xdate"},shim:{underscore:{exports:"_"},backbone:{deps:["underscore","jquery","backbone_datalink"],exports:"Backbone"},backbone_datalink:{deps:["jquery"],exports:"jQuery.fn.backboneLink"},select2:{deps:["jquery"],exports:"jQuery.fn.select2"},backstretch:{deps:["jquery"],exports:"jQuery.fn.backstretch"},blocksit:{deps:["jquery"],exports:"jQuery.fn.blocksit"},shorten:{deps:["jquery"],exports:"jQuery.fn.shorten"},xdate:{exports:"XDate"}}}),require(["domready","app"],function(t,e){return t(function(){return e.init()})}),define("main",function(){});